{
  "category": "winston-logging",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Winston logging library patterns",
  "skills": [
    {"id": "wst01", "type": "setup", "name": "Install Winston", "description": "NPM install", "pattern": "npm install winston", "example": "Install"},
    {"id": "wst02", "type": "basic", "name": "Basic Logger", "description": "Create logger", "pattern": "import winston from 'winston';\n\nconst logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n  transports: [\n    new winston.transports.Console()\n  ]\n});\n\nlogger.info('Hello, Winston!');", "example": "Basic"},
    {"id": "wst03", "type": "levels", "name": "Log Levels", "description": "Severity levels", "pattern": "// Default levels (npm)\n// error: 0, warn: 1, info: 2, http: 3, verbose: 4, debug: 5, silly: 6\n\nlogger.error('Error message');\nlogger.warn('Warning message');\nlogger.info('Info message');\nlogger.debug('Debug message');", "example": "Levels"},
    {"id": "wst04", "type": "format", "name": "Formats", "description": "Log formatting", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.colorize(),\n    winston.format.printf(({ level, message, timestamp }) => {\n      return `${timestamp} [${level}]: ${message}`;\n    })\n  ),\n  transports: [new winston.transports.Console()]\n});", "example": "Format"},
    {"id": "wst05", "type": "transports", "name": "Transports", "description": "Output destinations", "pattern": "const logger = winston.createLogger({\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({ filename: 'error.log', level: 'error' }),\n    new winston.transports.File({ filename: 'combined.log' })\n  ]\n});", "example": "Transports"},
    {"id": "wst06", "type": "file", "name": "File Transport", "description": "Log to file", "pattern": "new winston.transports.File({\n  filename: 'app.log',\n  level: 'info',\n  maxsize: 5242880,  // 5MB\n  maxFiles: 5,\n  tailable: true\n})", "example": "File"},
    {"id": "wst07", "type": "daily", "name": "Daily Rotate", "description": "Rotate logs daily", "pattern": "import DailyRotateFile from 'winston-daily-rotate-file';\n\nconst transport = new DailyRotateFile({\n  filename: 'logs/app-%DATE%.log',\n  datePattern: 'YYYY-MM-DD',\n  maxSize: '20m',\n  maxFiles: '14d'\n});\n\nlogger.add(transport);", "example": "Daily"},
    {"id": "wst08", "type": "meta", "name": "Metadata", "description": "Add context", "pattern": "logger.info('User logged in', {\n  userId: 123,\n  ip: '192.168.1.1',\n  userAgent: 'Mozilla/5.0'\n});\n\n// Or use child logger\nconst childLogger = logger.child({ requestId: 'abc123' });\nchildLogger.info('Processing request');", "example": "Metadata"},
    {"id": "wst09", "type": "errors", "name": "Error Logging", "description": "Log errors", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.errors({ stack: true }),\n    winston.format.json()\n  ),\n  transports: [new winston.transports.Console()]\n});\n\nlogger.error(new Error('Something went wrong'));", "example": "Errors"},
    {"id": "wst10", "type": "custom", "name": "Custom Levels", "description": "Define levels", "pattern": "const customLevels = {\n  levels: {\n    fatal: 0,\n    error: 1,\n    warn: 2,\n    info: 3,\n    debug: 4\n  },\n  colors: {\n    fatal: 'red',\n    error: 'red',\n    warn: 'yellow',\n    info: 'green',\n    debug: 'blue'\n  }\n};\n\nconst logger = winston.createLogger({ levels: customLevels.levels });\nwinston.addColors(customLevels.colors);", "example": "Custom"},
    {"id": "wst11", "type": "filter", "name": "Filter Logs", "description": "Conditional logging", "pattern": "const ignorePrivate = winston.format((info) => {\n  if (info.private) return false;\n  return info;\n});\n\nconst logger = winston.createLogger({\n  format: winston.format.combine(\n    ignorePrivate(),\n    winston.format.json()\n  )\n});", "example": "Filter"},
    {"id": "wst12", "type": "silent", "name": "Silent Mode", "description": "Disable logging", "pattern": "// Disable all logging\nlogger.silent = true;\n\n// Or per-transport\nlogger.transports[0].silent = true;", "example": "Silent"},
    {"id": "wst13", "type": "express", "name": "Express Integration", "description": "HTTP logging", "pattern": "import expressWinston from 'express-winston';\n\napp.use(expressWinston.logger({\n  transports: [new winston.transports.Console()],\n  format: winston.format.combine(\n    winston.format.colorize(),\n    winston.format.json()\n  ),\n  meta: true,\n  expressFormat: true\n}));", "example": "Express"},
    {"id": "wst14", "type": "errorhandler", "name": "Error Handler", "description": "Express errors", "pattern": "app.use(expressWinston.errorLogger({\n  transports: [\n    new winston.transports.Console(),\n    new winston.transports.File({ filename: 'errors.log' })\n  ]\n}));", "example": "Error Handler"},
    {"id": "wst15", "type": "http", "name": "HTTP Transport", "description": "Remote logging", "pattern": "new winston.transports.Http({\n  host: 'logs.example.com',\n  port: 443,\n  path: '/logs',\n  ssl: true\n})", "example": "HTTP"},
    {"id": "wst16", "type": "stream", "name": "Stream Transport", "description": "Custom stream", "pattern": "new winston.transports.Stream({\n  stream: fs.createWriteStream('/var/log/app.log', { flags: 'a' })\n})", "example": "Stream"},
    {"id": "wst17", "type": "mongodb", "name": "MongoDB Transport", "description": "Log to MongoDB", "pattern": "import { MongoDB } from 'winston-mongodb';\n\nnew MongoDB({\n  db: 'mongodb://localhost/logs',\n  collection: 'logs',\n  level: 'info'\n})", "example": "MongoDB"},
    {"id": "wst18", "type": "elastic", "name": "Elasticsearch", "description": "Log to ES", "pattern": "import { ElasticsearchTransport } from 'winston-elasticsearch';\n\nnew ElasticsearchTransport({\n  level: 'info',\n  clientOpts: { node: 'http://localhost:9200' },\n  indexPrefix: 'logs'\n})", "example": "Elastic"},
    {"id": "wst19", "type": "exception", "name": "Exception Handler", "description": "Catch exceptions", "pattern": "const logger = winston.createLogger({\n  exceptionHandlers: [\n    new winston.transports.File({ filename: 'exceptions.log' })\n  ],\n  rejectionHandlers: [\n    new winston.transports.File({ filename: 'rejections.log' })\n  ]\n});", "example": "Exception"},
    {"id": "wst20", "type": "query", "name": "Query Logs", "description": "Search logs", "pattern": "logger.query({ from: new Date() - 24 * 60 * 60 * 1000, until: new Date(), limit: 10, order: 'desc' }, (err, results) => {\n  console.log(results);\n});", "example": "Query"},
    {"id": "wst21", "type": "profile", "name": "Profiling", "description": "Time operations", "pattern": "logger.profile('myOperation');\n\n// ... do something\n\nlogger.profile('myOperation');  // Logs duration", "example": "Profile"},
    {"id": "wst22", "type": "env", "name": "Environment Config", "description": "Per-env logging", "pattern": "const logger = winston.createLogger({\n  level: process.env.NODE_ENV === 'production' ? 'info' : 'debug',\n  transports: [\n    process.env.NODE_ENV === 'production'\n      ? new winston.transports.File({ filename: 'app.log' })\n      : new winston.transports.Console({ format: winston.format.simple() })\n  ]\n});", "example": "Environment"},
    {"id": "wst23", "type": "global", "name": "Default Logger", "description": "Global logger", "pattern": "// Use default logger\nwinston.add(new winston.transports.Console());\nwinston.info('Using default logger');\n\n// Or add to global\nglobal.logger = winston.createLogger({ ... });", "example": "Global"},
    {"id": "wst24", "type": "colorize", "name": "Colorize", "description": "Colored output", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.colorize({ all: true }),\n    winston.format.simple()\n  ),\n  transports: [new winston.transports.Console()]\n});", "example": "Colorize"},
    {"id": "wst25", "type": "json", "name": "JSON Format", "description": "Structured logs", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.timestamp(),\n    winston.format.json()\n  ),\n  transports: [new winston.transports.Console()]\n});\n\n// Output: {\"level\":\"info\",\"message\":\"Hello\",\"timestamp\":\"...\"}", "example": "JSON"},
    {"id": "wst26", "type": "label", "name": "Labels", "description": "Log labels", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.label({ label: 'MyApp' }),\n    winston.format.printf(({ level, message, label }) => {\n      return `[${label}] ${level}: ${message}`;\n    })\n  )\n});", "example": "Labels"},
    {"id": "wst27", "type": "splat", "name": "String Interpolation", "description": "Printf style", "pattern": "const logger = winston.createLogger({\n  format: winston.format.combine(\n    winston.format.splat(),\n    winston.format.simple()\n  )\n});\n\nlogger.info('User %s logged in from %s', 'john', '192.168.1.1');", "example": "Splat"},
    {"id": "wst28", "type": "typescript", "name": "TypeScript", "description": "Type safety", "pattern": "import winston, { Logger } from 'winston';\n\nconst logger: Logger = winston.createLogger({\n  level: 'info',\n  format: winston.format.json(),\n  transports: [new winston.transports.Console()]\n});", "example": "TypeScript"},
    {"id": "wst29", "type": "test", "name": "Testing", "description": "Mock logger", "pattern": "// Create mock logger for tests\nconst mockLogger = {\n  info: jest.fn(),\n  error: jest.fn(),\n  warn: jest.fn()\n};\n\n// Or silence in tests\nconst logger = winston.createLogger({ silent: true });", "example": "Testing"},
    {"id": "wst30", "type": "pattern", "name": "Best Practices", "description": "Patterns", "pattern": "// 1. Use appropriate log levels\n// 2. Include context/metadata\n// 3. Rotate log files\n// 4. Different config per environment\n// 5. Handle exceptions/rejections", "example": "Patterns"}
  ]
}
