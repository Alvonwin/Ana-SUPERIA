{
  "category": "xstate-machines",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "XState finite state machines patterns",
  "skills": [
    {"id": "xst01", "type": "setup", "name": "Install XState", "description": "Add packages", "pattern": "npm install xstate @xstate/react", "example": "Core + React"},
    {"id": "xst02", "type": "machine", "name": "Create Machine", "description": "Define machine", "pattern": "import { createMachine } from 'xstate'; const machine = createMachine({ id: 'toggle', initial: 'inactive', states: { inactive: {}, active: {} } })", "example": "Basic machine"},
    {"id": "xst03", "type": "state", "name": "States", "description": "Define states", "pattern": "states: { idle: {}, loading: {}, success: {}, error: {} }", "example": "Machine states"},
    {"id": "xst04", "type": "state", "name": "Initial State", "description": "Starting state", "pattern": "initial: 'idle'", "example": "First state"},
    {"id": "xst05", "type": "transition", "name": "On Transition", "description": "State change", "pattern": "states: { idle: { on: { FETCH: 'loading' } } }", "example": "Event handler"},
    {"id": "xst06", "type": "transition", "name": "Event Object", "description": "Event with data", "pattern": "send({ type: 'SUBMIT', data: formData })", "example": "Payload event"},
    {"id": "xst07", "type": "transition", "name": "Target State", "description": "Transition target", "pattern": "on: { CLICK: { target: 'active' } }", "example": "Explicit target"},
    {"id": "xst08", "type": "context", "name": "Context", "description": "Extended state", "pattern": "createMachine({ context: { count: 0, user: null }, ... })", "example": "Data storage"},
    {"id": "xst09", "type": "context", "name": "Update Context", "description": "Assign action", "pattern": "import { assign } from 'xstate'; actions: assign({ count: (ctx) => ctx.count + 1 })", "example": "Modify context"},
    {"id": "xst10", "type": "action", "name": "Entry Action", "description": "On enter", "pattern": "states: { loading: { entry: 'startLoading' } }", "example": "Enter state"},
    {"id": "xst11", "type": "action", "name": "Exit Action", "description": "On leave", "pattern": "states: { loading: { exit: 'stopLoading' } }", "example": "Leave state"},
    {"id": "xst12", "type": "action", "name": "Transition Action", "description": "During transition", "pattern": "on: { CLICK: { target: 'active', actions: 'logClick' } }", "example": "On transition"},
    {"id": "xst13", "type": "guard", "name": "Guarded Transition", "description": "Conditional", "pattern": "on: { SUBMIT: { target: 'success', guard: 'isValid' } }", "example": "Condition check"},
    {"id": "xst14", "type": "guard", "name": "Guard Function", "description": "Guard logic", "pattern": "guards: { isValid: (context, event) => context.data.length > 0 }", "example": "Guard implementation"},
    {"id": "xst15", "type": "invoke", "name": "Invoke Promise", "description": "Async service", "pattern": "states: { loading: { invoke: { src: 'fetchData', onDone: 'success', onError: 'error' } } }", "example": "Promise service"},
    {"id": "xst16", "type": "invoke", "name": "Service Implementation", "description": "Define service", "pattern": "services: { fetchData: (context) => fetch('/api/data').then(res => res.json()) }", "example": "Fetch data"},
    {"id": "xst17", "type": "invoke", "name": "Invoke Callback", "description": "Callback service", "pattern": "invoke: { src: (context, event) => (callback, onReceive) => { const id = setInterval(() => callback('TICK'), 1000); return () => clearInterval(id) } }", "example": "Interval service"},
    {"id": "xst18", "type": "nested", "name": "Nested States", "description": "Hierarchical", "pattern": "states: { active: { initial: 'running', states: { running: {}, paused: {} } } }", "example": "Child states"},
    {"id": "xst19", "type": "parallel", "name": "Parallel States", "description": "Concurrent", "pattern": "type: 'parallel', states: { upload: { ... }, download: { ... } }", "example": "Simultaneous"},
    {"id": "xst20", "type": "history", "name": "History State", "description": "Remember state", "pattern": "states: { active: { ..., hist: { type: 'history' } } }, on: { RESUME: '.hist' }", "example": "Return to previous"},
    {"id": "xst21", "type": "final", "name": "Final State", "description": "End state", "pattern": "states: { done: { type: 'final' } }, onDone: 'cleanup'", "example": "Completion"},
    {"id": "xst22", "type": "react", "name": "useMachine", "description": "React hook", "pattern": "import { useMachine } from '@xstate/react'; const [state, send] = useMachine(machine)", "example": "Use in React"},
    {"id": "xst23", "type": "react", "name": "State Value", "description": "Current state", "pattern": "state.value // 'loading', state.matches('loading')", "example": "Check state"},
    {"id": "xst24", "type": "react", "name": "State Context", "description": "Access context", "pattern": "state.context.user", "example": "Read context"},
    {"id": "xst25", "type": "react", "name": "Send Event", "description": "Trigger transition", "pattern": "send({ type: 'SUBMIT', data: formData })", "example": "Dispatch event"},
    {"id": "xst26", "type": "actor", "name": "Spawn Actor", "description": "Child machine", "pattern": "import { spawn } from 'xstate'; actions: assign({ childRef: () => spawn(childMachine) })", "example": "Create actor"},
    {"id": "xst27", "type": "actor", "name": "Send To Actor", "description": "Actor message", "pattern": "import { sendTo } from 'xstate'; actions: sendTo('childRef', { type: 'PING' })", "example": "Actor comm"},
    {"id": "xst28", "type": "inspect", "name": "Inspect", "description": "Debug machine", "pattern": "import { inspect } from '@xstate/inspect'; inspect({ iframe: false })", "example": "Visualize"},
    {"id": "xst29", "type": "test", "name": "Test Machine", "description": "Unit testing", "pattern": "import { createActor } from 'xstate'; const actor = createActor(machine); actor.start(); actor.send({ type: 'FETCH' }); expect(actor.getSnapshot().value).toBe('loading')", "example": "Test states"},
    {"id": "xst30", "type": "typegen", "name": "TypeScript", "description": "Type generation", "pattern": "npx xstate typegen 'src/**/*.ts?(x)'", "example": "Generate types"}
  ]
}
