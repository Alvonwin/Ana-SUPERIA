{
  "category": "playwright-e2e-testing",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Playwright end-to-end testing patterns",
  "skills": [
    {"id": "plw01", "type": "setup", "name": "Install Playwright", "description": "NPM install", "pattern": "npm init playwright@latest\n// Or manual\nnpm install -D @playwright/test\nnpx playwright install", "example": "Install"},
    {"id": "plw02", "type": "config", "name": "Configuration", "description": "playwright.config.ts", "pattern": "import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  testDir: './tests',\n  timeout: 30000,\n  retries: 2,\n  use: {\n    baseURL: 'http://localhost:3000',\n    headless: true,\n    screenshot: 'only-on-failure'\n  }\n});", "example": "Config"},
    {"id": "plw03", "type": "basic", "name": "Basic Test", "description": "Simple test", "pattern": "import { test, expect } from '@playwright/test';\n\ntest('has title', async ({ page }) => {\n  await page.goto('/');\n  await expect(page).toHaveTitle(/My App/);\n});", "example": "Basic"},
    {"id": "plw04", "type": "locators", "name": "Locators", "description": "Find elements", "pattern": "// By role\npage.getByRole('button', { name: 'Submit' });\npage.getByRole('link', { name: /home/i });\n\n// By text\npage.getByText('Hello');\npage.getByLabel('Email');\npage.getByPlaceholder('Enter name');\n\n// By test ID\npage.getByTestId('submit-btn');\n\n// CSS/XPath\npage.locator('.class');\npage.locator('//button');", "example": "Locators"},
    {"id": "plw05", "type": "actions", "name": "Actions", "description": "Interact with page", "pattern": "// Click\nawait page.getByRole('button').click();\nawait page.getByRole('button').dblclick();\n\n// Type\nawait page.getByLabel('Name').fill('John');\nawait page.getByLabel('Name').type('slow', { delay: 100 });\n\n// Select\nawait page.getByRole('combobox').selectOption('value');\n\n// Check\nawait page.getByRole('checkbox').check();\nawait page.getByRole('checkbox').uncheck();", "example": "Actions"},
    {"id": "plw06", "type": "assertions", "name": "Assertions", "description": "Verify state", "pattern": "// Visibility\nawait expect(locator).toBeVisible();\nawait expect(locator).toBeHidden();\n\n// Text\nawait expect(locator).toHaveText('Hello');\nawait expect(locator).toContainText('Hello');\n\n// Value\nawait expect(locator).toHaveValue('test');\n\n// Count\nawait expect(locator).toHaveCount(3);\n\n// URL\nawait expect(page).toHaveURL('/dashboard');", "example": "Assertions"},
    {"id": "plw07", "type": "navigation", "name": "Navigation", "description": "Page navigation", "pattern": "await page.goto('https://example.com');\nawait page.goBack();\nawait page.goForward();\nawait page.reload();\n\n// Wait for navigation\nawait Promise.all([\n  page.waitForNavigation(),\n  page.click('a')\n]);\n\n// Wait for URL\nawait page.waitForURL('**/dashboard');", "example": "Navigation"},
    {"id": "plw08", "type": "wait", "name": "Waiting", "description": "Wait for elements", "pattern": "// Wait for element\nawait page.waitForSelector('.loaded');\nawait page.waitForSelector('.loaded', { state: 'visible' });\n\n// Wait for load state\nawait page.waitForLoadState('networkidle');\n\n// Wait for response\nconst response = await page.waitForResponse('**/api/data');\n\n// Wait for function\nawait page.waitForFunction(() => document.readyState === 'complete');", "example": "Wait"},
    {"id": "plw09", "type": "screenshot", "name": "Screenshots", "description": "Capture screenshots", "pattern": "// Full page\nawait page.screenshot({ path: 'screenshot.png', fullPage: true });\n\n// Element\nawait locator.screenshot({ path: 'element.png' });\n\n// Visual comparison\nawait expect(page).toHaveScreenshot('homepage.png', {\n  maxDiffPixels: 100\n});", "example": "Screenshot"},
    {"id": "plw10", "type": "network", "name": "Network", "description": "Intercept requests", "pattern": "// Mock API\nawait page.route('**/api/users', async route => {\n  await route.fulfill({\n    status: 200,\n    body: JSON.stringify([{ id: 1, name: 'John' }])\n  });\n});\n\n// Abort requests\nawait page.route('**/*.png', route => route.abort());\n\n// Modify request\nawait page.route('**/api/*', route => {\n  route.continue({ headers: { 'X-Custom': 'value' } });\n});", "example": "Network"},
    {"id": "plw11", "type": "auth", "name": "Authentication", "description": "Login state", "pattern": "// Save state\nconst context = await browser.newContext();\nawait context.storageState({ path: 'auth.json' });\n\n// Reuse state\nconst context = await browser.newContext({\n  storageState: 'auth.json'\n});\n\n// In config\nuse: {\n  storageState: 'auth.json'\n}", "example": "Auth"},
    {"id": "plw12", "type": "fixtures", "name": "Fixtures", "description": "Custom fixtures", "pattern": "import { test as base } from '@playwright/test';\n\ntype Fixtures = {\n  user: { name: string };\n};\n\nexport const test = base.extend<Fixtures>({\n  user: async ({}, use) => {\n    const user = await createUser();\n    await use(user);\n    await deleteUser(user);\n  }\n});\n\ntest('uses fixture', async ({ user }) => {\n  console.log(user.name);\n});", "example": "Fixtures"},
    {"id": "plw13", "type": "pom", "name": "Page Objects", "description": "Page object model", "pattern": "class LoginPage {\n  constructor(private page: Page) {}\n  \n  async goto() {\n    await this.page.goto('/login');\n  }\n  \n  async login(email: string, password: string) {\n    await this.page.getByLabel('Email').fill(email);\n    await this.page.getByLabel('Password').fill(password);\n    await this.page.getByRole('button', { name: 'Login' }).click();\n  }\n}\n\ntest('login', async ({ page }) => {\n  const loginPage = new LoginPage(page);\n  await loginPage.goto();\n  await loginPage.login('user@test.com', 'password');\n});", "example": "POM"},
    {"id": "plw14", "type": "mobile", "name": "Mobile Testing", "description": "Mobile devices", "pattern": "import { devices } from '@playwright/test';\n\nexport default defineConfig({\n  projects: [\n    { name: 'Desktop Chrome', use: { ...devices['Desktop Chrome'] } },\n    { name: 'Mobile Safari', use: { ...devices['iPhone 13'] } },\n    { name: 'Mobile Chrome', use: { ...devices['Pixel 5'] } }\n  ]\n});", "example": "Mobile"},
    {"id": "plw15", "type": "api", "name": "API Testing", "description": "Test APIs", "pattern": "test('API test', async ({ request }) => {\n  const response = await request.post('/api/users', {\n    data: { name: 'John' }\n  });\n  \n  expect(response.ok()).toBeTruthy();\n  expect(await response.json()).toEqual({\n    id: expect.any(Number),\n    name: 'John'\n  });\n});", "example": "API"},
    {"id": "plw16", "type": "iframe", "name": "Iframes", "description": "Handle iframes", "pattern": "// Get iframe\nconst frame = page.frameLocator('iframe');\n\n// Interact with iframe content\nawait frame.getByRole('button').click();\n\n// Multiple levels\nconst nested = frame.frameLocator('iframe').getByText('Hello');", "example": "Iframe"},
    {"id": "plw17", "type": "dialog", "name": "Dialogs", "description": "Handle dialogs", "pattern": "// Listen for dialogs\npage.on('dialog', async dialog => {\n  console.log(dialog.message());\n  await dialog.accept();  // or dialog.dismiss()\n});\n\n// Or once\npage.once('dialog', dialog => dialog.accept('input'));", "example": "Dialog"},
    {"id": "plw18", "type": "upload", "name": "File Upload", "description": "Upload files", "pattern": "// Single file\nawait page.getByLabel('Upload').setInputFiles('path/to/file.pdf');\n\n// Multiple files\nawait page.getByLabel('Upload').setInputFiles([\n  'file1.pdf',\n  'file2.pdf'\n]);\n\n// Clear files\nawait page.getByLabel('Upload').setInputFiles([]);", "example": "Upload"},
    {"id": "plw19", "type": "download", "name": "Downloads", "description": "Handle downloads", "pattern": "const [download] = await Promise.all([\n  page.waitForEvent('download'),\n  page.click('a.download')\n]);\n\nconst path = await download.path();\nconst filename = download.suggestedFilename();", "example": "Download"},
    {"id": "plw20", "type": "parallel", "name": "Parallel Tests", "description": "Run in parallel", "pattern": "// In config\nexport default defineConfig({\n  workers: 4,  // Number of workers\n  fullyParallel: true\n});\n\n// Serialize specific tests\ntest.describe.serial('ordered tests', () => {\n  test('first', async () => {});\n  test('second', async () => {});\n});", "example": "Parallel"},
    {"id": "plw21", "type": "trace", "name": "Tracing", "description": "Debug traces", "pattern": "// In config\nuse: {\n  trace: 'on-first-retry'  // or 'on', 'off', 'retain-on-failure'\n}\n\n// Manual trace\nawait context.tracing.start({ screenshots: true, snapshots: true });\n// ... tests\nawait context.tracing.stop({ path: 'trace.zip' });\n\n// View: npx playwright show-trace trace.zip", "example": "Trace"},
    {"id": "plw22", "type": "video", "name": "Video Recording", "description": "Record videos", "pattern": "export default defineConfig({\n  use: {\n    video: 'on-first-retry',  // or 'on', 'off', 'retain-on-failure'\n    video: {\n      mode: 'on',\n      size: { width: 1280, height: 720 }\n    }\n  }\n});", "example": "Video"},
    {"id": "plw23", "type": "codegen", "name": "Code Generator", "description": "Record tests", "pattern": "# Generate tests interactively\nnpx playwright codegen https://example.com\n\n# With specific viewport\nnpx playwright codegen --viewport-size=800,600\n\n# With device\nnpx playwright codegen --device=\"iPhone 13\"", "example": "Codegen"},
    {"id": "plw24", "type": "debug", "name": "Debugging", "description": "Debug tests", "pattern": "// Debug mode\nnpx playwright test --debug\n\n// In code\nawait page.pause();  // Opens inspector\n\n// Headed mode\nnpx playwright test --headed\n\n// Slow motion\nuse: {\n  launchOptions: {\n    slowMo: 100\n  }\n}", "example": "Debug"},
    {"id": "plw25", "type": "retries", "name": "Retries", "description": "Retry failed tests", "pattern": "export default defineConfig({\n  retries: 2,  // Global retries\n  retries: process.env.CI ? 2 : 0  // Only in CI\n});\n\n// Per-test\ntest('flaky test', { retries: 3 }, async ({ page }) => {\n  // ...\n});", "example": "Retries"},
    {"id": "plw26", "type": "tags", "name": "Tags", "description": "Filter tests", "pattern": "test('smoke test @smoke', async ({ page }) => {});\ntest('regression @regression', async ({ page }) => {});\n\n// Run by tag\nnpx playwright test --grep @smoke\nnpx playwright test --grep-invert @slow", "example": "Tags"},
    {"id": "plw27", "type": "hooks", "name": "Hooks", "description": "Setup/teardown", "pattern": "test.beforeAll(async () => {\n  // Before all tests in file\n});\n\ntest.afterAll(async () => {\n  // After all tests in file\n});\n\ntest.beforeEach(async ({ page }) => {\n  await page.goto('/');\n});\n\ntest.afterEach(async ({ page }, testInfo) => {\n  if (testInfo.status !== 'passed') {\n    await page.screenshot({ path: `failure-${testInfo.title}.png` });\n  }\n});", "example": "Hooks"},
    {"id": "plw28", "type": "reporter", "name": "Reporters", "description": "Test reporters", "pattern": "export default defineConfig({\n  reporter: [\n    ['list'],\n    ['json', { outputFile: 'results.json' }],\n    ['html', { open: 'never' }]\n  ]\n});\n\n// View HTML report\nnpx playwright show-report", "example": "Reporter"},
    {"id": "plw29", "type": "ci", "name": "CI Integration", "description": "GitHub Actions", "pattern": "# .github/workflows/playwright.yml\nname: Playwright Tests\non: push\njobs:\n  test:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v3\n      - uses: actions/setup-node@v3\n      - run: npm ci\n      - run: npx playwright install --with-deps\n      - run: npx playwright test\n      - uses: actions/upload-artifact@v3\n        if: always()\n        with:\n          name: playwright-report\n          path: playwright-report/", "example": "CI"},
    {"id": "plw30", "type": "pattern", "name": "Best Practices", "description": "Patterns", "pattern": "// 1. Use role-based locators\n// 2. Implement page object model\n// 3. Use fixtures for setup\n// 4. Run tests in parallel\n// 5. Use traces for debugging failures", "example": "Patterns"}
  ]
}
