{
  "category": "jest-unit-testing",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Jest JavaScript unit testing patterns",
  "skills": [
    {"id": "jut01", "type": "setup", "name": "Install Jest", "description": "NPM install", "pattern": "npm install jest @types/jest ts-jest --save-dev", "example": "Install"},
    {"id": "jut02", "type": "config", "name": "Jest Config", "description": "Configuration file", "pattern": "// jest.config.js\nmodule.exports = {\n  preset: 'ts-jest',\n  testEnvironment: 'node',\n  roots: ['<rootDir>/src'],\n  testMatch: ['**/*.test.ts'],\n  moduleNameMapper: { '^@/(.*)$': '<rootDir>/src/$1' }\n};", "example": "Config"},
    {"id": "jut03", "type": "test", "name": "Test Structure", "description": "Basic test", "pattern": "describe('Calculator', () => {\n  test('adds numbers correctly', () => {\n    expect(add(2, 3)).toBe(5);\n  });\n  \n  it('should subtract numbers', () => {\n    expect(subtract(5, 3)).toBe(2);\n  });\n});", "example": "Test structure"},
    {"id": "jut04", "type": "matcher", "name": "Equality Matchers", "description": "Value comparison", "pattern": "expect(value).toBe(5);           // Strict ===\nexpect(obj).toEqual({ a: 1 });   // Deep equality\nexpect(value).toStrictEqual(expected);  // Strict deep", "example": "Equality"},
    {"id": "jut05", "type": "matcher", "name": "Truthiness Matchers", "description": "Boolean checks", "pattern": "expect(value).toBeTruthy();\nexpect(value).toBeFalsy();\nexpect(value).toBeNull();\nexpect(value).toBeUndefined();\nexpect(value).toBeDefined();\nexpect(value).toBeNaN();", "example": "Truthiness"},
    {"id": "jut06", "type": "matcher", "name": "Number Matchers", "description": "Numeric checks", "pattern": "expect(num).toBeGreaterThan(3);\nexpect(num).toBeGreaterThanOrEqual(3);\nexpect(num).toBeLessThan(5);\nexpect(num).toBeLessThanOrEqual(5);\nexpect(0.1 + 0.2).toBeCloseTo(0.3, 5);", "example": "Numbers"},
    {"id": "jut07", "type": "matcher", "name": "String Matchers", "description": "String checks", "pattern": "expect(str).toMatch(/pattern/);\nexpect(str).toMatch('substring');\nexpect(str).toContain('text');\nexpect(str).toHaveLength(10);", "example": "Strings"},
    {"id": "jut08", "type": "matcher", "name": "Array Matchers", "description": "Array checks", "pattern": "expect(arr).toContain('item');\nexpect(arr).toContainEqual({ id: 1 });\nexpect(arr).toHaveLength(3);\nexpect(arr).toEqual(expect.arrayContaining([1, 2]));", "example": "Arrays"},
    {"id": "jut09", "type": "matcher", "name": "Object Matchers", "description": "Object checks", "pattern": "expect(obj).toHaveProperty('name');\nexpect(obj).toHaveProperty('user.email', 'a@b.com');\nexpect(obj).toMatchObject({ name: 'John' });\nexpect(obj).toEqual(expect.objectContaining({ id: 1 }));", "example": "Objects"},
    {"id": "jut10", "type": "matcher", "name": "Exception Matchers", "description": "Error checks", "pattern": "expect(() => throwError()).toThrow();\nexpect(() => throwError()).toThrow(Error);\nexpect(() => throwError()).toThrow('message');\nexpect(async () => await throwAsync()).rejects.toThrow();", "example": "Exceptions"},
    {"id": "jut11", "type": "async", "name": "Async/Await Tests", "description": "Async testing", "pattern": "test('async operation', async () => {\n  const result = await fetchData();\n  expect(result).toBeDefined();\n});\n\ntest('rejects', async () => {\n  await expect(fetchError()).rejects.toThrow();\n});", "example": "Async/Await"},
    {"id": "jut12", "type": "async", "name": "Promise Tests", "description": "Promise testing", "pattern": "test('resolves', () => {\n  return expect(fetchData()).resolves.toBe('data');\n});\n\ntest('rejects', () => {\n  return expect(fetchError()).rejects.toThrow();\n});", "example": "Promises"},
    {"id": "jut13", "type": "mock", "name": "Mock Functions", "description": "jest.fn()", "pattern": "const mockFn = jest.fn();\nmockFn('arg1', 'arg2');\n\nexpect(mockFn).toHaveBeenCalled();\nexpect(mockFn).toHaveBeenCalledWith('arg1', 'arg2');\nexpect(mockFn).toHaveBeenCalledTimes(1);\nexpect(mockFn).toHaveBeenLastCalledWith('arg1', 'arg2');", "example": "Mock functions"},
    {"id": "jut14", "type": "mock", "name": "Mock Returns", "description": "Return values", "pattern": "const mock = jest.fn()\n  .mockReturnValue('default')\n  .mockReturnValueOnce('first')\n  .mockReturnValueOnce('second');\n\nmock(); // 'first'\nmock(); // 'second'\nmock(); // 'default'", "example": "Mock returns"},
    {"id": "jut15", "type": "mock", "name": "Mock Async", "description": "Async returns", "pattern": "const mock = jest.fn()\n  .mockResolvedValue('resolved')\n  .mockResolvedValueOnce('first resolved')\n  .mockRejectedValueOnce(new Error('error'));", "example": "Mock async"},
    {"id": "jut16", "type": "mock", "name": "Mock Implementation", "description": "Custom behavior", "pattern": "const mock = jest.fn()\n  .mockImplementation((x) => x * 2)\n  .mockImplementationOnce((x) => x * 10);", "example": "Mock impl"},
    {"id": "jut17", "type": "mock", "name": "Mock Modules", "description": "jest.mock()", "pattern": "jest.mock('./api');\nimport { fetchUser } from './api';\n\nconst mockedFetch = fetchUser as jest.MockedFunction<typeof fetchUser>;\nmockedFetch.mockResolvedValue({ id: 1, name: 'John' });", "example": "Mock modules"},
    {"id": "jut18", "type": "mock", "name": "Partial Mock", "description": "Keep some real", "pattern": "jest.mock('./utils', () => ({\n  ...jest.requireActual('./utils'),\n  formatDate: jest.fn(() => '2024-01-01')\n}));", "example": "Partial mock"},
    {"id": "jut19", "type": "spy", "name": "Spy On Methods", "description": "jest.spyOn()", "pattern": "const spy = jest.spyOn(object, 'method');\nspy.mockReturnValue('mocked');\n\nobject.method();\nexpect(spy).toHaveBeenCalled();\n\nspy.mockRestore();", "example": "Spy"},
    {"id": "jut20", "type": "lifecycle", "name": "Lifecycle Hooks", "description": "Setup/Teardown", "pattern": "beforeAll(() => { /* Once before all */ });\nafterAll(() => { /* Once after all */ });\nbeforeEach(() => { /* Before each test */ });\nafterEach(() => { /* After each test */ });", "example": "Lifecycle"},
    {"id": "jut21", "type": "group", "name": "Nested Describes", "description": "Test organization", "pattern": "describe('User', () => {\n  describe('create', () => {\n    it('creates with valid data', () => {});\n    it('fails with invalid email', () => {});\n  });\n  \n  describe('delete', () => {\n    it('deletes existing user', () => {});\n  });\n});", "example": "Nested"},
    {"id": "jut22", "type": "skip", "name": "Skip and Only", "description": "Filter tests", "pattern": "test.skip('skipped test', () => {});\ntest.only('only this runs', () => {});\ndescribe.skip('skipped suite', () => {});\ndescribe.only('only this suite', () => {});", "example": "Skip/Only"},
    {"id": "jut23", "type": "each", "name": "Test Each", "description": "Parameterized", "pattern": "test.each([\n  [1, 1, 2],\n  [2, 2, 4],\n  [3, 3, 6]\n])('add(%i, %i) = %i', (a, b, expected) => {\n  expect(add(a, b)).toBe(expected);\n});", "example": "Test.each"},
    {"id": "jut24", "type": "snapshot", "name": "Snapshots", "description": "Snapshot testing", "pattern": "test('matches snapshot', () => {\n  const result = formatUser({ name: 'John' });\n  expect(result).toMatchSnapshot();\n});\n\n// Update: jest --updateSnapshot", "example": "Snapshots"},
    {"id": "jut25", "type": "timer", "name": "Fake Timers", "description": "Mock time", "pattern": "jest.useFakeTimers();\n\ntest('timer callback', () => {\n  const callback = jest.fn();\n  setTimeout(callback, 1000);\n  \n  jest.advanceTimersByTime(1000);\n  expect(callback).toHaveBeenCalled();\n});\n\njest.useRealTimers();", "example": "Timers"},
    {"id": "jut26", "type": "coverage", "name": "Coverage", "description": "Code coverage", "pattern": "// Run with coverage\njest --coverage\n\n// jest.config.js\nmodule.exports = {\n  collectCoverage: true,\n  coverageThreshold: {\n    global: { branches: 80, functions: 80, lines: 80 }\n  }\n};", "example": "Coverage"},
    {"id": "jut27", "type": "custom", "name": "Custom Matchers", "description": "Extend expect", "pattern": "expect.extend({\n  toBeWithinRange(received, floor, ceiling) {\n    const pass = received >= floor && received <= ceiling;\n    return {\n      pass,\n      message: () => `expected ${received} within ${floor}-${ceiling}`\n    };\n  }\n});", "example": "Custom matchers"},
    {"id": "jut28", "type": "env", "name": "Test Environment", "description": "jsdom/node", "pattern": "// jest.config.js\nmodule.exports = {\n  testEnvironment: 'jsdom'  // or 'node'\n};\n\n// Per file\n/**\n * @jest-environment jsdom\n */", "example": "Environment"},
    {"id": "jut29", "type": "watch", "name": "Watch Mode", "description": "Auto re-run", "pattern": "jest --watch      # Related tests\njest --watchAll   # All tests\n\n# Commands:\n# p - pattern filter\n# t - test name filter\n# a - run all\n# q - quit", "example": "Watch"},
    {"id": "jut30", "type": "clear", "name": "Clear Mocks", "description": "Reset state", "pattern": "beforeEach(() => {\n  jest.clearAllMocks();    // Clear history\n  jest.resetAllMocks();    // Reset to initial\n  jest.restoreAllMocks();  // Restore original\n});", "example": "Clear mocks"}
  ]
}
