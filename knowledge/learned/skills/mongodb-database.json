{
  "category": "mongodb-database",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "MongoDB NoSQL database patterns",
  "skills": [
    {"id": "mng01", "type": "setup", "name": "Install MongoDB Driver", "description": "NPM install", "pattern": "npm install mongodb", "example": "NPM install"},
    {"id": "mng02", "type": "setup", "name": "Install Mongoose", "description": "ODM install", "pattern": "npm install mongoose", "example": "Mongoose"},
    {"id": "mng03", "type": "connect", "name": "MongoDB Connection", "description": "Connect client", "pattern": "const { MongoClient } = require('mongodb');\nconst client = new MongoClient(uri);\nawait client.connect();", "example": "Connect"},
    {"id": "mng04", "type": "connect", "name": "Mongoose Connect", "description": "Connect ODM", "pattern": "const mongoose = require('mongoose');\nawait mongoose.connect('mongodb://localhost:27017/mydb');", "example": "Mongoose connect"},
    {"id": "mng05", "type": "schema", "name": "Mongoose Schema", "description": "Define schema", "pattern": "const userSchema = new mongoose.Schema({\n  name: { type: String, required: true },\n  email: { type: String, unique: true },\n  age: Number\n});", "example": "Schema"},
    {"id": "mng06", "type": "schema", "name": "Schema Types", "description": "Type options", "pattern": "String, Number, Date, Buffer, Boolean, Mixed, ObjectId, Array, Decimal128, Map, Schema", "example": "Types"},
    {"id": "mng07", "type": "model", "name": "Create Model", "description": "Model from schema", "pattern": "const User = mongoose.model('User', userSchema);", "example": "Model"},
    {"id": "mng08", "type": "crud", "name": "Create Document", "description": "Insert one", "pattern": "const user = new User({ name: 'John', email: 'john@example.com' });\nawait user.save();\n// or\nawait User.create({ name: 'John' });", "example": "Create"},
    {"id": "mng09", "type": "crud", "name": "Find Documents", "description": "Query", "pattern": "await User.find({ age: { $gt: 18 } });\nawait User.findOne({ email: 'john@example.com' });\nawait User.findById(id);", "example": "Find"},
    {"id": "mng10", "type": "crud", "name": "Update Document", "description": "Update one", "pattern": "await User.updateOne({ _id: id }, { $set: { name: 'Jane' } });\nawait User.findByIdAndUpdate(id, { name: 'Jane' }, { new: true });", "example": "Update"},
    {"id": "mng11", "type": "crud", "name": "Delete Document", "description": "Remove one", "pattern": "await User.deleteOne({ _id: id });\nawait User.findByIdAndDelete(id);", "example": "Delete"},
    {"id": "mng12", "type": "query", "name": "Query Operators", "description": "Comparison", "pattern": "$eq, $ne, $gt, $gte, $lt, $lte, $in, $nin\n{ age: { $gte: 18, $lte: 65 } }", "example": "Operators"},
    {"id": "mng13", "type": "query", "name": "Logical Operators", "description": "And/Or", "pattern": "{ $and: [{ age: { $gt: 18 } }, { active: true }] }\n{ $or: [{ status: 'A' }, { status: 'B' }] }", "example": "Logical"},
    {"id": "mng14", "type": "query", "name": "Array Operators", "description": "Array queries", "pattern": "{ tags: { $all: ['mongodb', 'database'] } }\n{ scores: { $elemMatch: { $gt: 80 } } }\n{ tags: { $size: 3 } }", "example": "Array"},
    {"id": "mng15", "type": "query", "name": "Text Search", "description": "Full-text", "pattern": "userSchema.index({ name: 'text', bio: 'text' });\nawait User.find({ $text: { $search: 'john' } });", "example": "Text search"},
    {"id": "mng16", "type": "query", "name": "Projection", "description": "Select fields", "pattern": "await User.find({}, { name: 1, email: 1, _id: 0 });\nawait User.find().select('name email -_id');", "example": "Projection"},
    {"id": "mng17", "type": "query", "name": "Sort & Limit", "description": "Order results", "pattern": "await User.find().sort({ createdAt: -1 }).limit(10).skip(20);", "example": "Sort/Limit"},
    {"id": "mng18", "type": "aggregate", "name": "Aggregation", "description": "Pipeline", "pattern": "await User.aggregate([\n  { $match: { status: 'active' } },\n  { $group: { _id: '$department', count: { $sum: 1 } } },\n  { $sort: { count: -1 } }\n]);", "example": "Aggregate"},
    {"id": "mng19", "type": "aggregate", "name": "Aggregation Stages", "description": "Pipeline stages", "pattern": "$match, $group, $sort, $limit, $skip, $project, $unwind, $lookup, $addFields, $facet", "example": "Stages"},
    {"id": "mng20", "type": "index", "name": "Indexes", "description": "Create index", "pattern": "userSchema.index({ email: 1 }, { unique: true });\nuserSchema.index({ name: 1, age: -1 });\nuserSchema.index({ location: '2dsphere' });", "example": "Index"},
    {"id": "mng21", "type": "populate", "name": "Populate", "description": "Reference join", "pattern": "const postSchema = new Schema({ author: { type: Schema.Types.ObjectId, ref: 'User' } });\nawait Post.find().populate('author');", "example": "Populate"},
    {"id": "mng22", "type": "middleware", "name": "Middleware", "description": "Pre/Post hooks", "pattern": "userSchema.pre('save', function(next) {\n  this.updatedAt = Date.now();\n  next();\n});\nuserSchema.post('save', function(doc) { console.log('Saved', doc._id) });", "example": "Middleware"},
    {"id": "mng23", "type": "validation", "name": "Validation", "description": "Schema validation", "pattern": "const userSchema = new Schema({\n  email: { type: String, required: [true, 'Email required'], match: [/^\\S+@\\S+\\.\\S+$/, 'Invalid email'] },\n  age: { type: Number, min: 0, max: 120 }\n});", "example": "Validation"},
    {"id": "mng24", "type": "virtual", "name": "Virtual Fields", "description": "Computed fields", "pattern": "userSchema.virtual('fullName').get(function() { return `${this.firstName} ${this.lastName}` });", "example": "Virtual"},
    {"id": "mng25", "type": "method", "name": "Instance Methods", "description": "Document methods", "pattern": "userSchema.methods.comparePassword = function(candidate) { return bcrypt.compare(candidate, this.password) };", "example": "Methods"},
    {"id": "mng26", "type": "static", "name": "Static Methods", "description": "Model methods", "pattern": "userSchema.statics.findByEmail = function(email) { return this.findOne({ email }) };", "example": "Statics"},
    {"id": "mng27", "type": "transaction", "name": "Transactions", "description": "ACID transaction", "pattern": "const session = await mongoose.startSession();\nsession.startTransaction();\nawait User.create([{ name: 'John' }], { session });\nawait session.commitTransaction();", "example": "Transaction"},
    {"id": "mng28", "type": "change", "name": "Change Streams", "description": "Watch changes", "pattern": "const changeStream = User.watch();\nchangeStream.on('change', (change) => { console.log('Change:', change) });", "example": "Change stream"},
    {"id": "mng29", "type": "gridfs", "name": "GridFS", "description": "File storage", "pattern": "const bucket = new GridFSBucket(db);\nfs.createReadStream('file.pdf').pipe(bucket.openUploadStream('file.pdf'));", "example": "GridFS"},
    {"id": "mng30", "type": "replica", "name": "Replica Set", "description": "High availability", "pattern": "mongodb://host1:27017,host2:27017,host3:27017/mydb?replicaSet=myReplicaSet", "example": "Replica set"}
  ]
}
