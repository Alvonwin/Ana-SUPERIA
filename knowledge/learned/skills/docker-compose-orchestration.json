{
  "category": "docker-compose-orchestration",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Docker Compose multi-container orchestration patterns",
  "skills": [
    {"id": "dco01", "type": "setup", "name": "Docker Compose V2", "description": "New syntax", "pattern": "# docker-compose.yml (V2 syntax)\nservices:\n  app:\n    image: node:20\n    ports:\n      - '3000:3000'\n    volumes:\n      - ./src:/app/src", "example": "Compose V2"},
    {"id": "dco02", "type": "build", "name": "Build Service", "description": "Custom build", "pattern": "services:\n  app:\n    build:\n      context: .\n      dockerfile: Dockerfile\n      args:\n        NODE_ENV: production\n      target: production", "example": "Build service"},
    {"id": "dco03", "type": "env", "name": "Environment Variables", "description": "Env config", "pattern": "services:\n  app:\n    environment:\n      - NODE_ENV=production\n      - DATABASE_URL=${DATABASE_URL}\n    env_file:\n      - .env\n      - .env.local", "example": "Environment"},
    {"id": "dco04", "type": "volume", "name": "Named Volumes", "description": "Persistent storage", "pattern": "services:\n  db:\n    image: postgres:15\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\nvolumes:\n  postgres_data:\n    driver: local", "example": "Named volumes"},
    {"id": "dco05", "type": "network", "name": "Custom Networks", "description": "Service networking", "pattern": "services:\n  frontend:\n    networks:\n      - frontend\n  backend:\n    networks:\n      - frontend\n      - backend\n  db:\n    networks:\n      - backend\nnetworks:\n  frontend:\n  backend:\n    internal: true", "example": "Networks"},
    {"id": "dco06", "type": "depends", "name": "Service Dependencies", "description": "Startup order", "pattern": "services:\n  app:\n    depends_on:\n      db:\n        condition: service_healthy\n      redis:\n        condition: service_started", "example": "Dependencies"},
    {"id": "dco07", "type": "health", "name": "Health Checks", "description": "Container health", "pattern": "services:\n  db:\n    image: postgres:15\n    healthcheck:\n      test: ['CMD-SHELL', 'pg_isready -U postgres']\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s", "example": "Health check"},
    {"id": "dco08", "type": "restart", "name": "Restart Policies", "description": "Auto restart", "pattern": "services:\n  app:\n    restart: unless-stopped\n    # Options: no, always, on-failure, unless-stopped", "example": "Restart policy"},
    {"id": "dco09", "type": "resource", "name": "Resource Limits", "description": "CPU/Memory limits", "pattern": "services:\n  app:\n    deploy:\n      resources:\n        limits:\n          cpus: '0.5'\n          memory: 512M\n        reservations:\n          cpus: '0.25'\n          memory: 256M", "example": "Resource limits"},
    {"id": "dco10", "type": "scale", "name": "Scaling Services", "description": "Multiple replicas", "pattern": "services:\n  worker:\n    image: worker:latest\n    deploy:\n      replicas: 3\n\n# Or via CLI\ndocker compose up -d --scale worker=3", "example": "Scaling"},
    {"id": "dco11", "type": "profile", "name": "Profiles", "description": "Optional services", "pattern": "services:\n  app:\n    profiles: []\n  debug:\n    image: busybox\n    profiles:\n      - debug\n  monitoring:\n    profiles:\n      - monitoring\n\n# docker compose --profile debug up", "example": "Profiles"},
    {"id": "dco12", "type": "override", "name": "Override Files", "description": "Environment overrides", "pattern": "# docker-compose.yml (base)\n# docker-compose.override.yml (dev, auto-loaded)\n# docker-compose.prod.yml (production)\n\n# Use specific file\ndocker compose -f docker-compose.yml -f docker-compose.prod.yml up", "example": "Override files"},
    {"id": "dco13", "type": "secret", "name": "Secrets", "description": "Sensitive data", "pattern": "services:\n  app:\n    secrets:\n      - db_password\n      - api_key\nsecrets:\n  db_password:\n    file: ./secrets/db_password.txt\n  api_key:\n    external: true", "example": "Secrets"},
    {"id": "dco14", "type": "config", "name": "Configs", "description": "Configuration files", "pattern": "services:\n  nginx:\n    configs:\n      - source: nginx_config\n        target: /etc/nginx/nginx.conf\nconfigs:\n  nginx_config:\n    file: ./nginx.conf", "example": "Configs"},
    {"id": "dco15", "type": "command", "name": "Custom Command", "description": "Override CMD", "pattern": "services:\n  app:\n    image: node:20\n    command: npm run dev\n    entrypoint: /docker-entrypoint.sh", "example": "Custom command"},
    {"id": "dco16", "type": "user", "name": "User Mapping", "description": "Run as user", "pattern": "services:\n  app:\n    user: '1000:1000'\n    # Or use current user\n    user: '${UID}:${GID}'", "example": "User mapping"},
    {"id": "dco17", "type": "log", "name": "Logging Configuration", "description": "Log settings", "pattern": "services:\n  app:\n    logging:\n      driver: json-file\n      options:\n        max-size: '10m'\n        max-file: '3'", "example": "Logging"},
    {"id": "dco18", "type": "label", "name": "Labels", "description": "Metadata labels", "pattern": "services:\n  app:\n    labels:\n      - 'traefik.enable=true'\n      - 'traefik.http.routers.app.rule=Host(`app.localhost`)'", "example": "Labels"},
    {"id": "dco19", "type": "expose", "name": "Expose vs Ports", "description": "Internal vs external", "pattern": "services:\n  db:\n    expose:\n      - '5432'  # Only to other services\n  app:\n    ports:\n      - '3000:3000'  # Exposed to host", "example": "Expose vs Ports"},
    {"id": "dco20", "type": "bind", "name": "Bind Mounts", "description": "Host directories", "pattern": "services:\n  app:\n    volumes:\n      - type: bind\n        source: ./src\n        target: /app/src\n      - ./config:/app/config:ro", "example": "Bind mounts"},
    {"id": "dco21", "type": "tmpfs", "name": "Tmpfs Mount", "description": "Memory filesystem", "pattern": "services:\n  app:\n    tmpfs:\n      - /tmp\n      - /run:size=100M,uid=1000", "example": "Tmpfs"},
    {"id": "dco22", "type": "alias", "name": "Network Aliases", "description": "DNS aliases", "pattern": "services:\n  db:\n    networks:\n      backend:\n        aliases:\n          - database\n          - postgres-primary", "example": "Network aliases"},
    {"id": "dco23", "type": "extension", "name": "Extension Fields", "description": "YAML anchors", "pattern": "x-common: &common\n  restart: unless-stopped\n  logging:\n    driver: json-file\n\nservices:\n  app:\n    <<: *common\n    image: app:latest\n  worker:\n    <<: *common\n    image: worker:latest", "example": "Extension fields"},
    {"id": "dco24", "type": "interpolation", "name": "Variable Interpolation", "description": "Dynamic values", "pattern": "services:\n  app:\n    image: myapp:${VERSION:-latest}\n    environment:\n      - API_URL=${API_URL:?API_URL is required}", "example": "Interpolation"},
    {"id": "dco25", "type": "command", "name": "Compose Commands", "description": "CLI commands", "pattern": "docker compose up -d\ndocker compose down -v\ndocker compose logs -f app\ndocker compose exec app sh\ndocker compose ps\ndocker compose build --no-cache", "example": "CLI commands"},
    {"id": "dco26", "type": "watch", "name": "Compose Watch", "description": "Dev hot reload", "pattern": "services:\n  app:\n    develop:\n      watch:\n        - action: sync\n          path: ./src\n          target: /app/src\n        - action: rebuild\n          path: package.json", "example": "Compose watch"},
    {"id": "dco27", "type": "init", "name": "Init Containers", "description": "Setup containers", "pattern": "services:\n  init-db:\n    image: postgres:15\n    command: ['psql', '-c', 'CREATE DATABASE app']\n    depends_on:\n      db:\n        condition: service_healthy\n  app:\n    depends_on:\n      init-db:\n        condition: service_completed_successfully", "example": "Init containers"},
    {"id": "dco28", "type": "extra", "name": "Extra Hosts", "description": "Custom DNS", "pattern": "services:\n  app:\n    extra_hosts:\n      - 'host.docker.internal:host-gateway'\n      - 'myservice:192.168.1.100'", "example": "Extra hosts"},
    {"id": "dco29", "type": "cap", "name": "Capabilities", "description": "Linux capabilities", "pattern": "services:\n  app:\n    cap_add:\n      - SYS_PTRACE\n    cap_drop:\n      - ALL\n    privileged: false\n    security_opt:\n      - no-new-privileges:true", "example": "Capabilities"},
    {"id": "dco30", "type": "gpu", "name": "GPU Support", "description": "NVIDIA GPU", "pattern": "services:\n  ml:\n    image: tensorflow/tensorflow:latest-gpu\n    deploy:\n      resources:\n        reservations:\n          devices:\n            - driver: nvidia\n              count: 1\n              capabilities: [gpu]", "example": "GPU support"}
  ]
}
