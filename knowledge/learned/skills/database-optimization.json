{
  "category": "database-optimization",
  "version": "1.0.0",
  "generatedBy": "Ana SUPERIA (DeepSeek Coder) - Supervisé et corrigé par Claude",
  "skills": [
    {"id": "db01", "type": "indexing", "name": "Simple Index Creation", "description": "Implement simple indexes to speed up single-column searches", "pattern": "CREATE INDEX idx_column_name ON table_name(column_name);", "example": "Used for quick access based on a single column"},
    {"id": "db02", "type": "indexing", "name": "B-Tree Index", "description": "Utilize B-Tree indexes for efficient range and equality queries", "pattern": "CREATE INDEX idx_multi_col ON table_name(col1, col2);", "example": "Default index type, suitable for most queries"},
    {"id": "db03", "type": "indexing", "name": "Hash Index", "description": "Create hash indexes for very fast exact match lookups", "pattern": "CREATE INDEX idx_hash ON table_name USING HASH (column_name);", "example": "Provides O(1) lookup times for exact matches"},
    {"id": "db04", "type": "query", "name": "Query Optimization Basics", "description": "Apply basic optimizations to improve query performance", "pattern": "EXPLAIN SELECT * FROM table_name WHERE column = 'value';", "example": "Analyzes how the database will execute a query"},
    {"id": "db05", "type": "query", "name": "EXPLAIN ANALYZE", "description": "Use EXPLAIN ANALYZE to get detailed execution plans with actual timings", "pattern": "EXPLAIN ANALYZE SELECT * FROM table_name WHERE column = 'value';", "example": "Shows actual execution time vs estimated"},
    {"id": "db06", "type": "performance", "name": "N+1 Problem Solution", "description": "Prevent N+1 queries by using JOINs or eager loading", "pattern": "SELECT users.*, orders.* FROM users LEFT JOIN orders ON users.id = orders.user_id;", "example": "Fetches all related data in single query instead of N+1 queries"},
    {"id": "db07", "type": "pooling", "name": "Connection Pooling", "description": "Manage database connections efficiently using connection pooling", "pattern": "[pgbouncer]\npool_mode = transaction\nmax_client_conn = 1000\ndefault_pool_size = 20", "example": "Reuses established connections via pgBouncer or HikariCP"},
    {"id": "db08", "type": "replication", "name": "Read Replicas Setup", "description": "Configure read replicas to distribute read load", "pattern": "CHANGE MASTER TO MASTER_HOST='primary', MASTER_USER='repl', MASTER_PASSWORD='pass';\nSTART SLAVE;", "example": "MySQL/PostgreSQL streaming replication for read scaling"},
    {"id": "db09", "type": "sharding", "name": "Horizontal Sharding", "description": "Distribute data across multiple database servers", "pattern": "-- Application routing logic:\nshard_id = hash(user_id) % num_shards\nconnection = shard_connections[shard_id]", "example": "Routes queries to correct shard based on partition key"},
    {"id": "db10", "type": "partitioning", "name": "Table Partitioning", "description": "Partition tables to improve query performance on large datasets", "pattern": "CREATE TABLE orders (\n  id INT,\n  order_date DATE\n) PARTITION BY RANGE (order_date);", "example": "Splits large tables into smaller manageable pieces"},
    {"id": "db11", "type": "maintenance", "name": "Vacuum and Analyze", "description": "Regularly run vacuum and analyze to maintain database health", "pattern": "VACUUM ANALYZE table_name;", "example": "Reclaims storage and updates statistics for optimizer"},
    {"id": "db12", "type": "statistics", "name": "Table Statistics", "description": "Gather statistics about table data to optimize query planning", "pattern": "ANALYZE TABLE table_name;", "example": "Updates statistics used by query planner"},
    {"id": "db13", "type": "caching", "name": "Query Cache", "description": "Cache frequently executed queries to reduce processing time", "pattern": "SET GLOBAL query_cache_size = 104857600;\nSET GLOBAL query_cache_type = ON;", "example": "Caches query results for repeated identical queries"},
    {"id": "db14", "type": "views", "name": "Materialized Views", "description": "Create materialized views to precompute complex queries", "pattern": "CREATE MATERIALIZED VIEW mv_daily_sales AS\nSELECT date, SUM(amount) FROM orders GROUP BY date;", "example": "Stores precomputed results, refreshed periodically"},
    {"id": "db15", "type": "locking", "name": "Deadlock Detection", "description": "Implement mechanisms to detect and resolve database deadlocks", "pattern": "SET lock_timeout = '5s';\nSET deadlock_timeout = '1s';", "example": "Automatically detects and resolves circular waits"},
    {"id": "db16", "type": "locking", "name": "Row-Level Locking", "description": "Use row-level locking for fine-grained concurrency control", "pattern": "SELECT * FROM accounts WHERE id = 1 FOR UPDATE;", "example": "Locks specific rows during transaction"},
    {"id": "db17", "type": "transactions", "name": "Transaction Isolation Levels", "description": "Set appropriate transaction isolation levels for data consistency", "pattern": "SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;", "example": "Controls visibility of concurrent transactions"},
    {"id": "db18", "type": "procedures", "name": "Stored Procedures", "description": "Create stored procedures to encapsulate business logic", "pattern": "CREATE PROCEDURE get_customer_orders(IN cust_id INT)\nBEGIN\n  SELECT * FROM orders WHERE customer_id = cust_id;\nEND;", "example": "Reduces network roundtrips with server-side logic"},
    {"id": "db19", "type": "indexing", "name": "Composite Index", "description": "Create composite indexes for multi-column queries", "pattern": "CREATE INDEX idx_user_age_status ON users(age, status);", "example": "Optimizes queries filtering on multiple columns"},
    {"id": "db20", "type": "indexing", "name": "Covering Index", "description": "Use covering indexes to satisfy queries without table access", "pattern": "CREATE INDEX idx_order_covering ON orders(order_date) INCLUDE (customer_id, status);", "example": "Index contains all columns needed by query"},
    {"id": "db21", "type": "search", "name": "Full-Text Search", "description": "Use full-text search for advanced text queries", "pattern": "SELECT * FROM articles WHERE MATCH(title, content) AGAINST('search term' IN NATURAL LANGUAGE MODE);", "example": "Efficient text search with relevance ranking"},
    {"id": "db22", "type": "query", "name": "Query Plan Analysis", "description": "Analyze query execution plans to identify bottlenecks", "pattern": "EXPLAIN (ANALYZE, BUFFERS, FORMAT JSON) SELECT * FROM orders WHERE order_id = 12345;", "example": "Detailed execution plan with buffer statistics"},
    {"id": "db23", "type": "memory", "name": "Buffer Pool Tuning", "description": "Optimize buffer pool configuration for memory efficiency", "pattern": "SHOW ENGINE INNODB STATUS\\G\nSET GLOBAL innodb_buffer_pool_size = 8589934592;", "example": "Tune memory allocation for caching data pages"},
    {"id": "db24", "type": "connections", "name": "Connection Management", "description": "Configure connection parameters for optimal resource usage", "pattern": "SET GLOBAL max_connections = 500;\nSET GLOBAL wait_timeout = 600;", "example": "Balance connection limits with server resources"},
    {"id": "db25", "type": "replication", "name": "Database Replication", "description": "Configure replication for high availability", "pattern": "ALTER SYSTEM SET synchronous_commit = on;\nSELECT pg_create_physical_replication_slot('replica1');", "example": "Synchronous replication for zero data loss"},
    {"id": "db26", "type": "backup", "name": "Backup Strategies", "description": "Implement comprehensive backup strategies", "pattern": "pg_dump -U username -h hostname -F c -f backup.dump dbname\npg_basebackup -D /backup -Fp -Xs -P", "example": "Logical and physical backups for recovery"},
    {"id": "db27", "type": "recovery", "name": "Point-in-Time Recovery", "description": "Restore database to a specific point in time", "pattern": "recovery_target_time = '2024-01-15 14:30:00'\nrestore_command = 'cp /archive/%f %p'", "example": "Recover to state before accidental data loss"},
    {"id": "db28", "type": "migrations", "name": "Schema Migrations", "description": "Manage schema changes with version-controlled migrations", "pattern": "-- migration_001_add_column.sql\nALTER TABLE users ADD COLUMN email VARCHAR(255);\n-- rollback\nALTER TABLE users DROP COLUMN email;", "example": "Versioned, reversible schema changes"},
    {"id": "db29", "type": "monitoring", "name": "Database Monitoring", "description": "Monitor database performance and health metrics", "pattern": "SELECT * FROM pg_stat_activity;\nSELECT * FROM pg_stat_user_tables;\nSELECT * FROM information_schema.processlist;", "example": "Track connections, queries, and table statistics"},
    {"id": "db30", "type": "profiling", "name": "Query Profiling", "description": "Profile queries to identify performance bottlenecks", "pattern": "SET profiling = 1;\nSELECT * FROM orders;\nSHOW PROFILES;\nSHOW PROFILE FOR QUERY 1;", "example": "Detailed timing breakdown of query execution"}
  ]
}
