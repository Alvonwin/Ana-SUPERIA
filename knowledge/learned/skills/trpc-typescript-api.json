{
  "category": "trpc-typescript-api",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "tRPC end-to-end typesafe API patterns",
  "skills": [
    {"id": "trp01", "type": "concept", "name": "tRPC Overview", "description": "Type-safe RPC", "pattern": "End-to-end TypeScript API, no codegen", "example": "Full-stack types"},
    {"id": "trp02", "type": "setup", "name": "Install Server", "description": "Server packages", "pattern": "npm install @trpc/server zod", "example": "Core + validation"},
    {"id": "trp03", "type": "setup", "name": "Install Client", "description": "Client packages", "pattern": "npm install @trpc/client @trpc/react-query @tanstack/react-query", "example": "React integration"},
    {"id": "trp04", "type": "router", "name": "Create Router", "description": "Define router", "pattern": "const appRouter = router({ user: userRouter, post: postRouter })", "example": "Merge routers"},
    {"id": "trp05", "type": "router", "name": "Init tRPC", "description": "Initialize", "pattern": "const t = initTRPC.context<Context>().create()", "example": "Factory setup"},
    {"id": "trp06", "type": "procedure", "name": "Query Procedure", "description": "Read operation", "pattern": "t.procedure.query(async () => { return db.users.findMany() })", "example": "Fetch data"},
    {"id": "trp07", "type": "procedure", "name": "Mutation Procedure", "description": "Write operation", "pattern": "t.procedure.input(z.object({ name: z.string() })).mutation(async ({ input }) => { })", "example": "Create/Update"},
    {"id": "trp08", "type": "procedure", "name": "Input Validation", "description": "Zod schema", "pattern": ".input(z.object({ id: z.string().uuid(), data: z.any() }))", "example": "Type-safe input"},
    {"id": "trp09", "type": "procedure", "name": "Output Validation", "description": "Response type", "pattern": ".output(z.object({ success: z.boolean() }))", "example": "Typed response"},
    {"id": "trp10", "type": "context", "name": "Create Context", "description": "Request context", "pattern": "export const createContext = async ({ req }) => ({ user: await getUser(req), db })", "example": "Shared state"},
    {"id": "trp11", "type": "middleware", "name": "Middleware", "description": "Procedure chain", "pattern": "const isAuthed = t.middleware(({ next, ctx }) => { if (!ctx.user) throw new TRPCError({ code: 'UNAUTHORIZED' }) })", "example": "Auth check"},
    {"id": "trp12", "type": "middleware", "name": "Protected Procedure", "description": "Auth required", "pattern": "const protectedProcedure = t.procedure.use(isAuthed)", "example": "Secured route"},
    {"id": "trp13", "type": "error", "name": "TRPCError", "description": "Throw errors", "pattern": "throw new TRPCError({ code: 'NOT_FOUND', message: 'User not found' })", "example": "Error handling"},
    {"id": "trp14", "type": "error", "name": "Error Codes", "description": "HTTP mapping", "pattern": "UNAUTHORIZED (401), FORBIDDEN (403), NOT_FOUND (404), BAD_REQUEST (400)", "example": "Standard codes"},
    {"id": "trp15", "type": "client", "name": "Create Client", "description": "Client setup", "pattern": "const trpc = createTRPCProxyClient<AppRouter>({ links: [httpBatchLink({ url })] })", "example": "Vanilla client"},
    {"id": "trp16", "type": "client", "name": "React Hooks", "description": "Query hooks", "pattern": "const { data, isLoading } = trpc.user.getById.useQuery({ id: '1' })", "example": "Data fetching"},
    {"id": "trp17", "type": "client", "name": "Mutation Hook", "description": "Mutate data", "pattern": "const mutation = trpc.user.create.useMutation(); mutation.mutate({ name: 'John' })", "example": "Create user"},
    {"id": "trp18", "type": "client", "name": "Invalidation", "description": "Refetch data", "pattern": "const utils = trpc.useUtils(); utils.user.getAll.invalidate()", "example": "Cache invalidation"},
    {"id": "trp19", "type": "subscription", "name": "WebSocket", "description": "Real-time", "pattern": "t.procedure.subscription(({ input }) => observable((emit) => { }))", "example": "Live updates"},
    {"id": "trp20", "type": "subscription", "name": "Subscribe Client", "description": "Listen events", "pattern": "trpc.onMessage.subscribe(undefined, { onData: (msg) => console.log(msg) })", "example": "Receive updates"},
    {"id": "trp21", "type": "adapter", "name": "Express Adapter", "description": "Express.js", "pattern": "app.use('/trpc', createExpressMiddleware({ router: appRouter, createContext }))", "example": "Express integration"},
    {"id": "trp22", "type": "adapter", "name": "Next.js Adapter", "description": "Next.js API", "pattern": "export default createNextApiHandler({ router: appRouter, createContext })", "example": "Pages router"},
    {"id": "trp23", "type": "adapter", "name": "Fetch Adapter", "description": "Edge runtime", "pattern": "fetchRequestHandler({ endpoint: '/api/trpc', req, router, createContext })", "example": "Edge functions"},
    {"id": "trp24", "type": "batch", "name": "Request Batching", "description": "Combine requests", "pattern": "httpBatchLink({ url, maxURLLength: 2083 })", "example": "Reduce requests"},
    {"id": "trp25", "type": "transform", "name": "SuperJSON", "description": "Data transform", "pattern": "import superjson; t.create({ transformer: superjson })", "example": "Dates, Maps"},
    {"id": "trp26", "type": "testing", "name": "Test Caller", "description": "Unit testing", "pattern": "const caller = appRouter.createCaller({ user: mockUser }); await caller.user.getById({ id: '1' })", "example": "Test procedures"},
    {"id": "trp27", "type": "types", "name": "Infer Types", "description": "Type extraction", "pattern": "type AppRouter = typeof appRouter; type UserOutput = inferProcedureOutput<AppRouter['user']['getById']>", "example": "Type inference"},
    {"id": "trp28", "type": "types", "name": "Router Input", "description": "Input type", "pattern": "type CreateUserInput = inferProcedureInput<AppRouter['user']['create']>", "example": "Extract input"},
    {"id": "trp29", "type": "optimistic", "name": "Optimistic Updates", "description": "Instant UI", "pattern": "useMutation({ onMutate: async (newData) => { utils.todos.getAll.setData(undefined, old => [...old, newData]) } })", "example": "Fast feedback"},
    {"id": "trp30", "type": "infinite", "name": "Infinite Query", "description": "Pagination", "pattern": "trpc.post.infiniteList.useInfiniteQuery({}, { getNextPageParam: (lastPage) => lastPage.nextCursor })", "example": "Load more"}
  ]
}
