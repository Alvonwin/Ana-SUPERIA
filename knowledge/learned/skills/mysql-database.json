{
  "category": "mysql-database",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "MySQL database patterns",
  "skills": [
    {"id": "mys01", "type": "setup", "name": "Install mysql2", "description": "NPM install", "pattern": "npm install mysql2", "example": "NPM install"},
    {"id": "mys02", "type": "connect", "name": "Create Connection", "description": "Single connection", "pattern": "const mysql = require('mysql2/promise');\nconst connection = await mysql.createConnection({ host: 'localhost', user: 'root', database: 'mydb' });", "example": "Connect"},
    {"id": "mys03", "type": "connect", "name": "Connection Pool", "description": "Pool connection", "pattern": "const pool = mysql.createPool({ host: 'localhost', user: 'root', database: 'mydb', waitForConnections: true, connectionLimit: 10 });", "example": "Pool"},
    {"id": "mys04", "type": "query", "name": "Execute Query", "description": "Run query", "pattern": "const [rows, fields] = await connection.execute('SELECT * FROM users WHERE id = ?', [userId]);", "example": "Query"},
    {"id": "mys05", "type": "query", "name": "Named Placeholders", "description": "Named params", "pattern": "const [rows] = await connection.execute('SELECT * FROM users WHERE name = :name', { name: 'John' });", "example": "Named params"},
    {"id": "mys06", "type": "crud", "name": "INSERT", "description": "Insert row", "pattern": "const [result] = await connection.execute('INSERT INTO users (name, email) VALUES (?, ?)', ['John', 'john@example.com']);\nconsole.log(result.insertId);", "example": "Insert"},
    {"id": "mys07", "type": "crud", "name": "UPDATE", "description": "Update row", "pattern": "const [result] = await connection.execute('UPDATE users SET name = ? WHERE id = ?', ['Jane', 1]);\nconsole.log(result.affectedRows);", "example": "Update"},
    {"id": "mys08", "type": "crud", "name": "DELETE", "description": "Delete row", "pattern": "await connection.execute('DELETE FROM users WHERE id = ?', [userId]);", "example": "Delete"},
    {"id": "mys09", "type": "table", "name": "CREATE TABLE", "description": "Define table", "pattern": "CREATE TABLE users (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  email VARCHAR(255) UNIQUE,\n  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\n) ENGINE=InnoDB;", "example": "Create table"},
    {"id": "mys10", "type": "type", "name": "Data Types", "description": "Column types", "pattern": "INT, BIGINT, TINYINT, FLOAT, DOUBLE, DECIMAL, VARCHAR, TEXT, BLOB, DATE, DATETIME, TIMESTAMP, JSON, ENUM, SET", "example": "Data types"},
    {"id": "mys11", "type": "constraint", "name": "Constraints", "description": "Table constraints", "pattern": "PRIMARY KEY, UNIQUE, NOT NULL, DEFAULT, CHECK, FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE", "example": "Constraints"},
    {"id": "mys12", "type": "index", "name": "Index", "description": "Create index", "pattern": "CREATE INDEX idx_users_email ON users(email);\nCREATE FULLTEXT INDEX idx_posts_content ON posts(title, body);", "example": "Index"},
    {"id": "mys13", "type": "transaction", "name": "Transaction", "description": "ACID transaction", "pattern": "const conn = await pool.getConnection();\ntry {\n  await conn.beginTransaction();\n  await conn.execute('INSERT INTO...');\n  await conn.commit();\n} catch (e) {\n  await conn.rollback();\n} finally {\n  conn.release();\n}", "example": "Transaction"},
    {"id": "mys14", "type": "join", "name": "JOIN", "description": "Table joins", "pattern": "SELECT u.name, p.title FROM users u\nINNER JOIN posts p ON u.id = p.user_id\nLEFT JOIN comments c ON p.id = c.post_id;", "example": "Join"},
    {"id": "mys15", "type": "aggregate", "name": "Aggregations", "description": "Aggregate functions", "pattern": "SELECT department, COUNT(*), AVG(salary), MAX(salary)\nFROM employees\nGROUP BY department\nHAVING COUNT(*) > 5;", "example": "Aggregate"},
    {"id": "mys16", "type": "subquery", "name": "Subqueries", "description": "Nested queries", "pattern": "SELECT * FROM users WHERE id IN (SELECT user_id FROM orders WHERE total > 100);", "example": "Subquery"},
    {"id": "mys17", "type": "json", "name": "JSON Operations", "description": "JSON queries", "pattern": "SELECT JSON_EXTRACT(data, '$.name') FROM users;\nSELECT * FROM users WHERE JSON_CONTAINS(data, '\"value\"', '$.array');", "example": "JSON"},
    {"id": "mys18", "type": "json", "name": "JSON Functions", "description": "JSON helpers", "pattern": "JSON_SET(data, '$.name', 'John')\nJSON_ARRAY('a', 'b', 'c')\nJSON_OBJECT('name', 'John', 'age', 30)", "example": "JSON functions"},
    {"id": "mys19", "type": "fulltext", "name": "Full-Text Search", "description": "FULLTEXT search", "pattern": "SELECT * FROM posts WHERE MATCH(title, body) AGAINST('search terms' IN NATURAL LANGUAGE MODE);", "example": "Full-text"},
    {"id": "mys20", "type": "upsert", "name": "ON DUPLICATE KEY", "description": "Upsert", "pattern": "INSERT INTO users (email, name) VALUES (?, ?)\nON DUPLICATE KEY UPDATE name = VALUES(name);", "example": "Upsert"},
    {"id": "mys21", "type": "view", "name": "Views", "description": "Create view", "pattern": "CREATE VIEW active_users AS SELECT * FROM users WHERE active = 1;", "example": "View"},
    {"id": "mys22", "type": "procedure", "name": "Stored Procedure", "description": "Create procedure", "pattern": "CREATE PROCEDURE GetUserById(IN userId INT)\nBEGIN\n  SELECT * FROM users WHERE id = userId;\nEND;\nCALL GetUserById(1);", "example": "Procedure"},
    {"id": "mys23", "type": "trigger", "name": "Triggers", "description": "Event trigger", "pattern": "CREATE TRIGGER before_insert_user\nBEFORE INSERT ON users\nFOR EACH ROW\nSET NEW.created_at = NOW();", "example": "Trigger"},
    {"id": "mys24", "type": "stream", "name": "Streaming", "description": "Stream results", "pattern": "const stream = connection.query('SELECT * FROM large_table').stream();\nstream.on('data', (row) => { process(row) });", "example": "Streaming"},
    {"id": "mys25", "type": "batch", "name": "Batch Insert", "description": "Bulk insert", "pattern": "await connection.query('INSERT INTO users (name) VALUES ?', [[\n  ['John'], ['Jane'], ['Bob']\n]]);", "example": "Batch insert"},
    {"id": "mys26", "type": "escape", "name": "Escaping", "description": "Escape values", "pattern": "mysql.escape(userInput);\nmysql.escapeId(columnName);", "example": "Escape"},
    {"id": "mys27", "type": "ssl", "name": "SSL Connection", "description": "Secure connection", "pattern": "const connection = await mysql.createConnection({\n  host: 'localhost',\n  ssl: { ca: fs.readFileSync('ca-cert.pem') }\n});", "example": "SSL"},
    {"id": "mys28", "type": "explain", "name": "EXPLAIN", "description": "Query plan", "pattern": "EXPLAIN SELECT * FROM users WHERE email = 'john@example.com';", "example": "Explain"},
    {"id": "mys29", "type": "charset", "name": "Character Set", "description": "Encoding", "pattern": "CREATE TABLE users (...) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;", "example": "Charset"},
    {"id": "mys30", "type": "replication", "name": "Replication", "description": "Master-slave", "pattern": "MySQL supports master-slave replication for high availability and read scaling", "example": "Replication"}
  ]
}
