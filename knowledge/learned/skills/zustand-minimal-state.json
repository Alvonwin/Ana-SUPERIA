{
  "category": "zustand-minimal-state",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Zustand minimal state management patterns",
  "skills": [
    {"id": "zus01", "type": "setup", "name": "Install Zustand", "description": "NPM install", "pattern": "npm install zustand", "example": "Install"},
    {"id": "zus02", "type": "store", "name": "Create Store", "description": "Basic store", "pattern": "import { create } from 'zustand';\n\nconst useStore = create((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  decrement: () => set((state) => ({ count: state.count - 1 }))\n}));", "example": "Create store"},
    {"id": "zus03", "type": "use", "name": "Use Store", "description": "Access state", "pattern": "function Counter() {\n  const count = useStore((state) => state.count);\n  const increment = useStore((state) => state.increment);\n  return <button onClick={increment}>{count}</button>;\n}", "example": "Use store"},
    {"id": "zus04", "type": "selector", "name": "Selectors", "description": "Select state", "pattern": "// Single selector\nconst count = useStore((state) => state.count);\n\n// Multiple values\nconst { count, increment } = useStore((state) => ({\n  count: state.count,\n  increment: state.increment\n}));", "example": "Selectors"},
    {"id": "zus05", "type": "shallow", "name": "Shallow Compare", "description": "Prevent rerenders", "pattern": "import { shallow } from 'zustand/shallow';\n\nconst { count, name } = useStore(\n  (state) => ({ count: state.count, name: state.name }),\n  shallow\n);", "example": "Shallow"},
    {"id": "zus06", "type": "async", "name": "Async Actions", "description": "Async operations", "pattern": "const useStore = create((set) => ({\n  users: [],\n  loading: false,\n  fetchUsers: async () => {\n    set({ loading: true });\n    const users = await fetch('/api/users').then(r => r.json());\n    set({ users, loading: false });\n  }\n}));", "example": "Async"},
    {"id": "zus07", "type": "get", "name": "Get State", "description": "Access outside", "pattern": "const useStore = create((set, get) => ({\n  count: 0,\n  doubleCount: () => get().count * 2,\n  increment: () => set({ count: get().count + 1 })\n}));\n\n// Outside component\nuseStore.getState().count;", "example": "Get state"},
    {"id": "zus08", "type": "subscribe", "name": "Subscribe", "description": "Listen changes", "pattern": "const unsubscribe = useStore.subscribe(\n  (state) => console.log('State changed:', state)\n);\n\n// With selector\nuseStore.subscribe(\n  (state) => state.count,\n  (count) => console.log('Count:', count)\n);", "example": "Subscribe"},
    {"id": "zus09", "type": "persist", "name": "Persist", "description": "LocalStorage", "pattern": "import { persist } from 'zustand/middleware';\n\nconst useStore = create(\n  persist(\n    (set) => ({\n      count: 0,\n      increment: () => set((s) => ({ count: s.count + 1 }))\n    }),\n    { name: 'counter-storage' }\n  )\n);", "example": "Persist"},
    {"id": "zus10", "type": "persist", "name": "Persist Options", "description": "Storage config", "pattern": "persist(\n  (set) => ({ ... }),\n  {\n    name: 'app-storage',\n    storage: createJSONStorage(() => sessionStorage),\n    partialize: (state) => ({ count: state.count }),\n    version: 1,\n    migrate: (persistedState, version) => persistedState\n  }\n)", "example": "Persist options"},
    {"id": "zus11", "type": "devtools", "name": "DevTools", "description": "Redux DevTools", "pattern": "import { devtools } from 'zustand/middleware';\n\nconst useStore = create(\n  devtools(\n    (set) => ({\n      count: 0,\n      increment: () => set((s) => ({ count: s.count + 1 }), false, 'increment')\n    }),\n    { name: 'MyStore' }\n  )\n);", "example": "DevTools"},
    {"id": "zus12", "type": "immer", "name": "Immer", "description": "Immutable updates", "pattern": "import { immer } from 'zustand/middleware/immer';\n\nconst useStore = create(\n  immer((set) => ({\n    users: [],\n    addUser: (user) => set((state) => {\n      state.users.push(user);  // Direct mutation OK!\n    })\n  }))\n);", "example": "Immer"},
    {"id": "zus13", "type": "combine", "name": "Combine Middleware", "description": "Multiple middleware", "pattern": "const useStore = create(\n  devtools(\n    persist(\n      immer((set) => ({\n        count: 0,\n        increment: () => set((s) => { s.count++; })\n      })),\n      { name: 'storage' }\n    )\n  )\n);", "example": "Combine"},
    {"id": "zus14", "type": "slice", "name": "Slices Pattern", "description": "Modular stores", "pattern": "const createCountSlice = (set) => ({\n  count: 0,\n  increment: () => set((s) => ({ count: s.count + 1 }))\n});\n\nconst createUserSlice = (set) => ({\n  user: null,\n  setUser: (user) => set({ user })\n});\n\nconst useStore = create((...a) => ({\n  ...createCountSlice(...a),\n  ...createUserSlice(...a)\n}));", "example": "Slices"},
    {"id": "zus15", "type": "typescript", "name": "TypeScript", "description": "Type safety", "pattern": "interface State {\n  count: number;\n  increment: () => void;\n}\n\nconst useStore = create<State>()((set) => ({\n  count: 0,\n  increment: () => set((s) => ({ count: s.count + 1 }))\n}));", "example": "TypeScript"},
    {"id": "zus16", "type": "typescript", "name": "Typed Slices", "description": "Slice types", "pattern": "interface CountSlice {\n  count: number;\n  increment: () => void;\n}\n\nconst createCountSlice: StateCreator<CountSlice> = (set) => ({\n  count: 0,\n  increment: () => set((s) => ({ count: s.count + 1 }))\n});", "example": "Typed slices"},
    {"id": "zus17", "type": "reset", "name": "Reset State", "description": "Reset to initial", "pattern": "const initialState = { count: 0, name: '' };\n\nconst useStore = create((set) => ({\n  ...initialState,\n  increment: () => set((s) => ({ count: s.count + 1 })),\n  reset: () => set(initialState)\n}));", "example": "Reset"},
    {"id": "zus18", "type": "computed", "name": "Computed Values", "description": "Derived state", "pattern": "const useStore = create((set, get) => ({\n  items: [],\n  get total() {\n    return get().items.reduce((sum, i) => sum + i.price, 0);\n  },\n  addItem: (item) => set((s) => ({ items: [...s.items, item] }))\n}));", "example": "Computed"},
    {"id": "zus19", "type": "context", "name": "With Context", "description": "Scoped stores", "pattern": "import { createContext, useContext } from 'react';\n\nconst StoreContext = createContext(null);\n\nfunction Provider({ children }) {\n  const [store] = useState(() => createStore());\n  return <StoreContext.Provider value={store}>{children}</StoreContext.Provider>;\n}", "example": "Context"},
    {"id": "zus20", "type": "vanilla", "name": "Vanilla Store", "description": "Without React", "pattern": "import { createStore } from 'zustand/vanilla';\n\nconst store = createStore((set) => ({\n  count: 0,\n  increment: () => set((s) => ({ count: s.count + 1 }))\n}));\n\nstore.getState();\nstore.setState({ count: 10 });", "example": "Vanilla"},
    {"id": "zus21", "type": "equality", "name": "Custom Equality", "description": "Compare function", "pattern": "import { useStoreWithEqualityFn } from 'zustand/traditional';\n\nconst state = useStoreWithEqualityFn(\n  useStore,\n  (state) => state.user,\n  (a, b) => a.id === b.id  // Custom comparison\n);", "example": "Custom equality"},
    {"id": "zus22", "type": "transient", "name": "Transient Updates", "description": "No rerender", "pattern": "const useStore = create((set, get) => ({\n  count: 0,\n  // Update ref without rerender\n  countRef: { current: 0 },\n  silentIncrement: () => {\n    get().countRef.current++;\n  }\n}));", "example": "Transient"},
    {"id": "zus23", "type": "action", "name": "Action Types", "description": "Named actions", "pattern": "const useStore = create((set) => ({\n  count: 0,\n  increment: () => set(\n    (s) => ({ count: s.count + 1 }),\n    false,\n    { type: 'INCREMENT' }  // DevTools action name\n  )\n}));", "example": "Action types"},
    {"id": "zus24", "type": "replace", "name": "Replace State", "description": "Full replacement", "pattern": "const useStore = create((set) => ({\n  count: 0,\n  name: 'John',\n  replaceAll: (newState) => set(newState, true)  // true = replace\n}));\n\n// Or externally\nuseStore.setState({ count: 5 }, true);", "example": "Replace"},
    {"id": "zus25", "type": "partial", "name": "Partial Updates", "description": "Merge state", "pattern": "// Automatic merge (default)\nset({ count: 5 });  // Only updates count\n\n// Explicit merge\nset((state) => ({ ...state, count: state.count + 1 }));", "example": "Partial"},
    {"id": "zus26", "type": "middleware", "name": "Custom Middleware", "description": "Create middleware", "pattern": "const log = (config) => (set, get, api) =>\n  config(\n    (...args) => {\n      console.log('Before:', get());\n      set(...args);\n      console.log('After:', get());\n    },\n    get,\n    api\n  );", "example": "Custom middleware"},
    {"id": "zus27", "type": "hydrate", "name": "Hydration", "description": "SSR support", "pattern": "const useStore = create(\n  persist(\n    (set) => ({ count: 0 }),\n    {\n      name: 'storage',\n      skipHydration: true\n    }\n  )\n);\n\n// In useEffect\nuseStore.persist.rehydrate();", "example": "Hydration"},
    {"id": "zus28", "type": "test", "name": "Testing", "description": "Test stores", "pattern": "import { act } from '@testing-library/react';\n\ntest('increment', () => {\n  const { result } = renderHook(() => useStore());\n  \n  act(() => {\n    result.current.increment();\n  });\n  \n  expect(result.current.count).toBe(1);\n});", "example": "Testing"},
    {"id": "zus29", "type": "test", "name": "Reset Between Tests", "description": "Clean state", "pattern": "beforeEach(() => {\n  useStore.setState({ count: 0, users: [] });\n});", "example": "Reset tests"},
    {"id": "zus30", "type": "pattern", "name": "Best Practices", "description": "Patterns", "pattern": "// 1. One store per domain\n// 2. Use selectors to avoid rerenders\n// 3. Keep actions in store\n// 4. Use slices for large stores\n// 5. Persist only necessary state", "example": "Best practices"}
  ]
}
