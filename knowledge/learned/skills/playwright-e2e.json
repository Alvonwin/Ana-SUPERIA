{
  "category": "playwright-e2e",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Playwright end-to-end testing patterns",
  "skills": [
    {"id": "pwe01", "type": "setup", "name": "Install Playwright", "description": "NPM install", "pattern": "npm init playwright@latest\n# Or\nnpm install @playwright/test\nnpx playwright install", "example": "Install"},
    {"id": "pwe02", "type": "config", "name": "Playwright Config", "description": "Configuration", "pattern": "// playwright.config.ts\nimport { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  testDir: './tests',\n  fullyParallel: true,\n  retries: 2,\n  use: {\n    baseURL: 'http://localhost:3000',\n    trace: 'on-first-retry'\n  }\n});", "example": "Config"},
    {"id": "pwe03", "type": "test", "name": "Basic Test", "description": "Test structure", "pattern": "import { test, expect } from '@playwright/test';\n\ntest('home page', async ({ page }) => {\n  await page.goto('/');\n  await expect(page).toHaveTitle(/Home/);\n  await expect(page.locator('h1')).toContainText('Welcome');\n});", "example": "Basic test"},
    {"id": "pwe04", "type": "locator", "name": "Locators", "description": "Find elements", "pattern": "page.locator('button');\npage.locator('[data-testid=submit]');\npage.locator('#email');\npage.getByRole('button', { name: 'Submit' });\npage.getByText('Click me');\npage.getByLabel('Email');\npage.getByPlaceholder('Enter email');", "example": "Locators"},
    {"id": "pwe05", "type": "action", "name": "Actions", "description": "User interactions", "pattern": "await page.locator('input').fill('hello');\nawait page.locator('input').clear();\nawait page.locator('button').click();\nawait page.locator('select').selectOption('value');\nawait page.locator('[type=checkbox]').check();\nawait page.keyboard.press('Enter');", "example": "Actions"},
    {"id": "pwe06", "type": "assert", "name": "Assertions", "description": "expect() checks", "pattern": "await expect(page).toHaveURL('/dashboard');\nawait expect(page).toHaveTitle('Home');\nawait expect(locator).toBeVisible();\nawait expect(locator).toHaveText('Hello');\nawait expect(locator).toHaveCount(5);\nawait expect(locator).toBeEnabled();", "example": "Assertions"},
    {"id": "pwe07", "type": "wait", "name": "Auto-waiting", "description": "Wait strategies", "pattern": "// Playwright auto-waits by default\nawait page.locator('button').click();  // Waits for visible\n\n// Explicit wait\nawait page.waitForURL('/dashboard');\nawait page.waitForSelector('.loaded');\nawait page.waitForLoadState('networkidle');", "example": "Waiting"},
    {"id": "pwe08", "type": "api", "name": "API Testing", "description": "API requests", "pattern": "test('api test', async ({ request }) => {\n  const response = await request.post('/api/users', {\n    data: { name: 'John' }\n  });\n  expect(response.ok()).toBeTruthy();\n  expect(await response.json()).toEqual({ id: 1, name: 'John' });\n});", "example": "API test"},
    {"id": "pwe09", "type": "mock", "name": "Route Mocking", "description": "Mock API", "pattern": "await page.route('/api/users', async (route) => {\n  await route.fulfill({\n    status: 200,\n    contentType: 'application/json',\n    body: JSON.stringify([{ id: 1, name: 'John' }])\n  });\n});\n\nawait page.goto('/users');", "example": "Mock route"},
    {"id": "pwe10", "type": "intercept", "name": "Request Interception", "description": "Intercept requests", "pattern": "const responsePromise = page.waitForResponse('/api/users');\nawait page.click('button');\nconst response = await responsePromise;\nexpect(response.status()).toBe(200);", "example": "Intercept"},
    {"id": "pwe11", "type": "fixture", "name": "Fixtures", "description": "Test fixtures", "pattern": "import { test as base } from '@playwright/test';\n\ntype MyFixtures = { user: { name: string } };\n\nconst test = base.extend<MyFixtures>({\n  user: async ({}, use) => {\n    await use({ name: 'John' });\n  }\n});\n\ntest('uses fixture', async ({ user }) => {\n  expect(user.name).toBe('John');\n});", "example": "Fixtures"},
    {"id": "pwe12", "type": "auth", "name": "Authentication", "description": "Login state", "pattern": "// Save auth state\nawait page.goto('/login');\nawait page.fill('#email', 'user@example.com');\nawait page.fill('#password', 'password');\nawait page.click('button[type=submit]');\nawait page.context().storageState({ path: 'auth.json' });\n\n// Reuse in config\nuse: { storageState: 'auth.json' }", "example": "Auth"},
    {"id": "pwe13", "type": "browser", "name": "Multiple Browsers", "description": "Cross-browser", "pattern": "// playwright.config.ts\nprojects: [\n  { name: 'chromium', use: { ...devices['Desktop Chrome'] } },\n  { name: 'firefox', use: { ...devices['Desktop Firefox'] } },\n  { name: 'webkit', use: { ...devices['Desktop Safari'] } },\n  { name: 'mobile', use: { ...devices['iPhone 14'] } }\n]", "example": "Browsers"},
    {"id": "pwe14", "type": "screenshot", "name": "Screenshots", "description": "Visual capture", "pattern": "await page.screenshot({ path: 'screenshot.png' });\nawait page.locator('.card').screenshot({ path: 'card.png' });\n\n// Full page\nawait page.screenshot({ path: 'full.png', fullPage: true });", "example": "Screenshots"},
    {"id": "pwe15", "type": "visual", "name": "Visual Comparison", "description": "Snapshot testing", "pattern": "await expect(page).toHaveScreenshot('homepage.png');\nawait expect(page.locator('.card')).toHaveScreenshot();\n\n// Update: npx playwright test --update-snapshots", "example": "Visual"},
    {"id": "pwe16", "type": "trace", "name": "Trace Viewer", "description": "Debug traces", "pattern": "// playwright.config.ts\nuse: { trace: 'on-first-retry' }\n\n// View trace\nnpx playwright show-trace trace.zip\n\n// Or online\nhttps://trace.playwright.dev", "example": "Trace"},
    {"id": "pwe17", "type": "video", "name": "Video Recording", "description": "Record video", "pattern": "// playwright.config.ts\nuse: {\n  video: 'on-first-retry',\n  // or 'on', 'off', 'retain-on-failure'\n}", "example": "Video"},
    {"id": "pwe18", "type": "codegen", "name": "Code Generator", "description": "Record tests", "pattern": "npx playwright codegen localhost:3000\n\n# Opens browser and records actions\n# Generates test code automatically", "example": "Codegen"},
    {"id": "pwe19", "type": "parallel", "name": "Parallel Tests", "description": "Run parallel", "pattern": "// playwright.config.ts\nfullyParallel: true,\nworkers: 4,  // Or '50%'\n\n// Run\nnpx playwright test --workers=4", "example": "Parallel"},
    {"id": "pwe20", "type": "retry", "name": "Retries", "description": "Retry failed", "pattern": "// playwright.config.ts\nretries: process.env.CI ? 2 : 0,\n\n// Per test\ntest('flaky', async ({ page }) => {\n  test.info().annotations.push({ type: 'flaky' });\n});", "example": "Retries"},
    {"id": "pwe21", "type": "hook", "name": "Hooks", "description": "Lifecycle hooks", "pattern": "test.beforeAll(async () => { /* setup */ });\ntest.afterAll(async () => { /* cleanup */ });\ntest.beforeEach(async ({ page }) => {\n  await page.goto('/');\n});\ntest.afterEach(async ({ page }) => { });", "example": "Hooks"},
    {"id": "pwe22", "type": "describe", "name": "Test Groups", "description": "Organize tests", "pattern": "test.describe('User', () => {\n  test.describe('login', () => {\n    test('valid credentials', async ({ page }) => {});\n    test('invalid credentials', async ({ page }) => {});\n  });\n});", "example": "Groups"},
    {"id": "pwe23", "type": "skip", "name": "Skip/Only", "description": "Filter tests", "pattern": "test.skip('skipped', async () => {});\ntest.only('only this', async () => {});\ntest.fixme('broken', async () => {});\n\ntest('conditional', async ({ page, browserName }) => {\n  test.skip(browserName === 'firefox', 'Not for Firefox');\n});", "example": "Skip/Only"},
    {"id": "pwe24", "type": "timeout", "name": "Timeouts", "description": "Set timeouts", "pattern": "// Global\ntest.setTimeout(60000);\n\n// Per test\ntest('slow test', async ({ page }) => {\n  test.slow();  // Triple timeout\n});\n\n// Config\ntimeout: 30000,\nexpect: { timeout: 5000 }", "example": "Timeouts"},
    {"id": "pwe25", "type": "iframe", "name": "iFrames", "description": "Frame testing", "pattern": "const frame = page.frameLocator('iframe');\nawait frame.locator('button').click();\n\n// Or\nconst frame = page.frame({ name: 'frame-name' });", "example": "iFrames"},
    {"id": "pwe26", "type": "dialog", "name": "Dialogs", "description": "Handle dialogs", "pattern": "page.on('dialog', async (dialog) => {\n  console.log(dialog.message());\n  await dialog.accept();\n  // or dialog.dismiss()\n});\n\nawait page.locator('button').click();", "example": "Dialogs"},
    {"id": "pwe27", "type": "download", "name": "Downloads", "description": "Handle downloads", "pattern": "const downloadPromise = page.waitForEvent('download');\nawait page.locator('a.download').click();\nconst download = await downloadPromise;\nawait download.saveAs('./file.pdf');", "example": "Downloads"},
    {"id": "pwe28", "type": "upload", "name": "File Upload", "description": "Upload files", "pattern": "await page.locator('[type=file]').setInputFiles('file.pdf');\n\n// Multiple files\nawait page.locator('[type=file]').setInputFiles(['f1.pdf', 'f2.pdf']);\n\n// Clear\nawait page.locator('[type=file]').setInputFiles([]);", "example": "Upload"},
    {"id": "pwe29", "type": "component", "name": "Component Testing", "description": "Test components", "pattern": "// playwright-ct.config.ts\nimport { defineConfig } from '@playwright/experimental-ct-react';\n\n// Test\nimport { test, expect } from '@playwright/experimental-ct-react';\nimport Button from './Button';\n\ntest('button', async ({ mount }) => {\n  const component = await mount(<Button>Click</Button>);\n  await expect(component).toContainText('Click');\n});", "example": "Component"},
    {"id": "pwe30", "type": "ci", "name": "CI Integration", "description": "GitHub Actions", "pattern": "- uses: actions/checkout@v4\n- uses: actions/setup-node@v4\n- run: npm ci\n- run: npx playwright install --with-deps\n- run: npx playwright test\n- uses: actions/upload-artifact@v4\n  if: failure()\n  with:\n    name: playwright-report\n    path: playwright-report/", "example": "CI"}
  ]
}
