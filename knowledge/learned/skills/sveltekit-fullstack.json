{
  "category": "sveltekit-fullstack",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "SvelteKit fullstack patterns",
  "skills": [
    {"id": "svk01", "type": "setup", "name": "Create SvelteKit", "description": "Init project", "pattern": "npm create svelte@latest my-app\ncd my-app\nnpm install\nnpm run dev", "example": "Create"},
    {"id": "svk02", "type": "structure", "name": "Project Structure", "description": "Directory layout", "pattern": "src/\n  lib/           # Reusable code ($lib alias)\n  routes/        # File-based routing\n    +page.svelte\n    +layout.svelte\n    +server.js\n  app.html       # HTML template\nstatic/          # Static assets\nsvelte.config.js", "example": "Structure"},
    {"id": "svk03", "type": "page", "name": "Page Component", "description": "+page.svelte", "pattern": "<!-- src/routes/+page.svelte -->\n<script>\n  export let data;  // From load function\n</script>\n\n<h1>Welcome, {data.user.name}</h1>", "example": "Page"},
    {"id": "svk04", "type": "load", "name": "Universal Load", "description": "+page.js", "pattern": "// src/routes/+page.js\nexport async function load({ fetch, params }) {\n  const res = await fetch('/api/posts');\n  const posts = await res.json();\n  \n  return { posts };\n}", "example": "Universal load"},
    {"id": "svk05", "type": "load", "name": "Server Load", "description": "+page.server.js", "pattern": "// src/routes/+page.server.js\nimport { db } from '$lib/db';\n\nexport async function load({ params, cookies }) {\n  const posts = await db.post.findMany();\n  const session = cookies.get('session');\n  \n  return { posts, session };\n}", "example": "Server load"},
    {"id": "svk06", "type": "layout", "name": "Layout", "description": "+layout.svelte", "pattern": "<!-- src/routes/+layout.svelte -->\n<script>\n  import Nav from '$lib/Nav.svelte';\n  export let data;\n</script>\n\n<Nav user={data.user} />\n<main>\n  <slot />  <!-- Child pages render here -->\n</main>", "example": "Layout"},
    {"id": "svk07", "type": "layout", "name": "Layout Load", "description": "+layout.server.js", "pattern": "// src/routes/+layout.server.js\nexport async function load({ locals }) {\n  return {\n    user: locals.user  // Available to all child routes\n  };\n}", "example": "Layout load"},
    {"id": "svk08", "type": "params", "name": "Route Parameters", "description": "Dynamic routes", "pattern": "// src/routes/blog/[slug]/+page.server.js\nexport async function load({ params }) {\n  const post = await db.post.findUnique({\n    where: { slug: params.slug }\n  });\n  \n  if (!post) throw error(404, 'Not found');\n  return { post };\n}", "example": "Params"},
    {"id": "svk09", "type": "params", "name": "Rest Parameters", "description": "Catch-all routes", "pattern": "// src/routes/files/[...path]/+page.svelte\n// Matches /files/a, /files/a/b, /files/a/b/c\n\n// +page.server.js\nexport function load({ params }) {\n  const segments = params.path.split('/');\n  return { segments };\n}", "example": "Rest params"},
    {"id": "svk10", "type": "action", "name": "Form Actions", "description": "Server mutations", "pattern": "// +page.server.js\nexport const actions = {\n  create: async ({ request }) => {\n    const data = await request.formData();\n    await db.post.create({\n      data: { title: data.get('title') }\n    });\n    return { success: true };\n  },\n  delete: async ({ request }) => {\n    const data = await request.formData();\n    await db.post.delete({ where: { id: data.get('id') } });\n  }\n};\n\n// +page.svelte\n<form method=\"POST\" action=\"?/create\">\n  <input name=\"title\" />\n  <button>Create</button>\n</form>", "example": "Actions"},
    {"id": "svk11", "type": "enhance", "name": "Progressive Enhancement", "description": "use:enhance", "pattern": "<script>\n  import { enhance } from '$app/forms';\n</script>\n\n<form method=\"POST\" use:enhance>\n  <input name=\"title\" />\n  <button>Submit</button>\n</form>\n\n<!-- Custom enhance -->\n<form method=\"POST\" use:enhance={({ formData, cancel }) => {\n  // Before submit\n  return async ({ result, update }) => {\n    // After submit\n    await update();\n  };\n}}>", "example": "Enhance"},
    {"id": "svk12", "type": "error", "name": "Error Handling", "description": "+error.svelte", "pattern": "<!-- src/routes/+error.svelte -->\n<script>\n  import { page } from '$app/stores';\n</script>\n\n<h1>{$page.status}</h1>\n<p>{$page.error?.message}</p>\n\n// Throw errors in load/action\nimport { error } from '@sveltejs/kit';\nthrow error(404, 'Not found');", "example": "Error"},
    {"id": "svk13", "type": "redirect", "name": "Redirects", "description": "Server redirects", "pattern": "import { redirect } from '@sveltejs/kit';\n\nexport function load({ locals }) {\n  if (!locals.user) {\n    throw redirect(303, '/login');\n  }\n}\n\n// In actions\nexport const actions = {\n  logout: async ({ cookies }) => {\n    cookies.delete('session');\n    throw redirect(303, '/');\n  }\n};", "example": "Redirect"},
    {"id": "svk14", "type": "api", "name": "API Routes", "description": "+server.js", "pattern": "// src/routes/api/posts/+server.js\nimport { json } from '@sveltejs/kit';\n\nexport async function GET() {\n  const posts = await db.post.findMany();\n  return json(posts);\n}\n\nexport async function POST({ request }) {\n  const body = await request.json();\n  const post = await db.post.create({ data: body });\n  return json(post, { status: 201 });\n}\n\nexport async function DELETE({ params }) {\n  await db.post.delete({ where: { id: params.id } });\n  return new Response(null, { status: 204 });\n}", "example": "API"},
    {"id": "svk15", "type": "hooks", "name": "Server Hooks", "description": "hooks.server.js", "pattern": "// src/hooks.server.js\nexport async function handle({ event, resolve }) {\n  // Run before each request\n  const session = event.cookies.get('session');\n  event.locals.user = await getUser(session);\n  \n  const response = await resolve(event);\n  \n  // Modify response\n  response.headers.set('X-Custom', 'value');\n  return response;\n}", "example": "Hooks"},
    {"id": "svk16", "type": "hooks", "name": "Handle Error", "description": "Error hook", "pattern": "// src/hooks.server.js\nexport function handleError({ error, event }) {\n  console.error(error);\n  \n  return {\n    message: 'Internal error',\n    code: error?.code ?? 'UNKNOWN'\n  };\n}", "example": "Handle error"},
    {"id": "svk17", "type": "stores", "name": "App Stores", "description": "$app/stores", "pattern": "<script>\n  import { page, navigating, updated } from '$app/stores';\n</script>\n\n<p>Current path: {$page.url.pathname}</p>\n<p>Route params: {$page.params.slug}</p>\n{#if $navigating}\n  <p>Loading...</p>\n{/if}\n{#if $updated}\n  <p>New version available!</p>\n{/if}", "example": "Stores"},
    {"id": "svk18", "type": "navigation", "name": "Navigation", "description": "$app/navigation", "pattern": "<script>\n  import { goto, invalidate, invalidateAll } from '$app/navigation';\n  \n  async function navigate() {\n    await goto('/dashboard');\n  }\n  \n  async function refresh() {\n    await invalidate('/api/posts');  // Re-run load\n    await invalidateAll();            // Re-run all loads\n  }\n</script>", "example": "Navigation"},
    {"id": "svk19", "type": "prerender", "name": "Prerendering", "description": "Static generation", "pattern": "// +page.js or +page.server.js\nexport const prerender = true;   // Prerender at build\nexport const ssr = true;          // Server render (default)\nexport const csr = true;          // Client render (default)\n\n// Generate static paths\nexport async function entries() {\n  const posts = await getPosts();\n  return posts.map(p => ({ slug: p.slug }));\n}", "example": "Prerender"},
    {"id": "svk20", "type": "streaming", "name": "Streaming", "description": "Deferred data", "pattern": "// +page.server.js\nexport async function load() {\n  return {\n    fast: await getFast(),\n    slow: getSlow()  // Not awaited = streamed\n  };\n}\n\n// +page.svelte\n{#await data.slow}\n  <p>Loading...</p>\n{:then value}\n  <p>{value}</p>\n{/await}", "example": "Streaming"},
    {"id": "svk21", "type": "env", "name": "Environment", "description": "Env variables", "pattern": "// $env/static/private (server only, build time)\nimport { DATABASE_URL } from '$env/static/private';\n\n// $env/static/public (client OK, build time)\nimport { PUBLIC_API_URL } from '$env/static/public';\n\n// $env/dynamic/* (runtime)\nimport { env } from '$env/dynamic/private';\nconsole.log(env.DATABASE_URL);", "example": "Env"},
    {"id": "svk22", "type": "lib", "name": "$lib Alias", "description": "Library imports", "pattern": "// src/lib/components/Button.svelte\n// src/lib/utils/format.js\n// src/lib/server/db.js (server only)\n\n// Import anywhere\nimport Button from '$lib/components/Button.svelte';\nimport { format } from '$lib/utils/format';\nimport { db } from '$lib/server/db';", "example": "$lib"},
    {"id": "svk23", "type": "group", "name": "Route Groups", "description": "Organize routes", "pattern": "// (marketing)/about/+page.svelte -> /about\n// (marketing)/pricing/+page.svelte -> /pricing\n// (app)/dashboard/+page.svelte -> /dashboard\n\n// Different layouts per group\n// (marketing)/+layout.svelte\n// (app)/+layout.svelte", "example": "Groups"},
    {"id": "svk24", "type": "breaking", "name": "Layout Reset", "description": "Skip layouts", "pattern": "// Use +page@.svelte to reset to root layout\n// Use +page@(group).svelte to reset to group layout\n\n// src/routes/(app)/settings/+page@.svelte\n// Skips (app) layout, uses root layout only", "example": "Reset"},
    {"id": "svk25", "type": "parallel", "name": "Parallel Loading", "description": "Concurrent loads", "pattern": "// Parent +layout.server.js\nexport async function load() {\n  return { user: getUser() };  // Not awaited\n}\n\n// Child +page.server.js\nexport async function load({ parent }) {\n  const { user } = await parent();  // Wait when needed\n  return { posts: getPosts(user.id) };\n}", "example": "Parallel"},
    {"id": "svk26", "type": "adapter", "name": "Adapters", "description": "Deploy targets", "pattern": "// svelte.config.js\nimport adapter from '@sveltejs/adapter-auto';  // Auto-detect\n// adapter-vercel, adapter-netlify, adapter-cloudflare\n// adapter-node, adapter-static\n\nexport default {\n  kit: {\n    adapter: adapter({\n      // Adapter options\n    })\n  }\n};", "example": "Adapters"},
    {"id": "svk27", "type": "config", "name": "Configuration", "description": "svelte.config.js", "pattern": "import adapter from '@sveltejs/adapter-auto';\nimport { vitePreprocess } from '@sveltejs/vite-plugin-svelte';\n\nexport default {\n  preprocess: vitePreprocess(),\n  kit: {\n    adapter: adapter(),\n    alias: { $components: 'src/components' },\n    csrf: { checkOrigin: true }\n  }\n};", "example": "Config"},
    {"id": "svk28", "type": "types", "name": "TypeScript", "description": "Type safety", "pattern": "// +page.server.ts\nimport type { PageServerLoad, Actions } from './$types';\n\nexport const load: PageServerLoad = async ({ params }) => {\n  return { post: await getPost(params.slug) };\n};\n\nexport const actions: Actions = {\n  create: async ({ request }) => {\n    // ...\n  }\n};", "example": "TypeScript"},
    {"id": "svk29", "type": "test", "name": "Testing", "description": "Test setup", "pattern": "// vitest.config.js\nimport { defineConfig } from 'vitest/config';\nimport { sveltekit } from '@sveltejs/kit/vite';\n\nexport default defineConfig({\n  plugins: [sveltekit()],\n  test: {\n    include: ['src/**/*.{test,spec}.{js,ts}']\n  }\n});", "example": "Testing"},
    {"id": "svk30", "type": "deploy", "name": "Deployment", "description": "Build and deploy", "pattern": "# Build\nnpm run build\n\n# Preview\nnpm run preview\n\n# Output in .svelte-kit/output\n# Deploy based on adapter", "example": "Deploy"}
  ]
}
