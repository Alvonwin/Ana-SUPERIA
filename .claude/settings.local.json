{
  "permissions": {
    "allow": [
      "Bash(cd:*)",
      "Bash(git -C /e/ANA status)",
      "Bash(git -C /e/ANA add CLAUDE.md)",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\ndocs: Ajout CLAUDE.md pour Claude Code\n\nGuide complet pour travailler avec le codebase ANA SUPERIA:\n- Commandes de dÃ©marrage et dÃ©veloppement\n- Architecture backend/frontend/LLM/mÃ©moire\n- SystÃ¨me d''outils \\(180+\\)\n- Contraintes critiques \\(franÃ§ais, tutoiement\\)\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /e/ANA push)",
      "Bash(git -C /e/ANA remote:*)",
      "Bash(git -C /e/ANA push --set-upstream origin master)",
      "Bash(cat:*)",
      "Bash(scriptshealth.bat)",
      "Bash(cmd /c \"cd /d E:\\\\ANA && scripts\\\\status.bat\")",
      "Bash(cmd /c \"netstat -ano | findstr LISTENING | findstr /E \"\"8000 3338 5173 3336 8188\"\"\")",
      "Bash(cmd /c \"node -v && npm -v\")",
      "Bash(cmd /c \"if exist E:\\\\ANA\\\\server\\\\node_modules echo server/node_modules: OK && if exist E:\\\\ANA\\\\ana-interface\\\\node_modules echo ana-interface/node_modules: OK\")",
      "Bash(netstat:*)",
      "Bash(ls:*)",
      "Bash(curl:*)",
      "Bash(npm run lint)",
      "Bash(cmd /c \"cd /d E:\\\\ANA\\\\ana-interface && npm run lint\")",
      "Bash(node -e:*)",
      "Bash(cmd /c \"if exist E:\\\\ANA\\\\logs\\\\ana-core.log \\(type E:\\\\ANA\\\\logs\\\\ana-core.log | more +0\\) else \\(echo Log file not found\\)\")",
      "Bash(node test_path_extract.cjs:*)",
      "Bash(node test_full_flow.cjs:*)",
      "Bash(findstr:*)",
      "Bash(cmd /c \"taskkill /PID 3452 /F\")",
      "Bash(powershell -Command \"Stop-Process -Id 3452 -Force\")",
      "Bash(start /MIN \"Ana Core Backend\" cmd /c \"node ana-core.cjs\")",
      "Bash(cmd /c \"cd /d E:\\\\ANA\\\\server && start /MIN \"\"Ana Core Backend\"\" cmd /c \"\"node ana-core.cjs\"\"\")",
      "Bash(powershell -Command \"Start-Process -FilePath ''node'' -ArgumentList ''ana-core.cjs'' -WorkingDirectory ''E:\\\\ANA\\\\server'' -WindowStyle Minimized\")",
      "WebSearch",
      "WebFetch(domain:inference-docs.cerebras.ai)",
      "Bash(powershell -Command \"Get-Process -Id \\(Get-NetTCPConnection -LocalPort 3338 -ErrorAction SilentlyContinue\\).OwningProcess -ErrorAction SilentlyContinue | Stop-Process -Force\")",
      "Bash(node:*)",
      "Bash(where:*)",
      "Bash(npm list:*)",
      "Bash(npm install:*)",
      "Bash(dir \"E:\\\\ANA\\\\Avatar*.jpg\")",
      "WebFetch(domain:raw.githubusercontent.com)",
      "WebFetch(domain:github.com)",
      "Bash(npx eslint:*)",
      "Bash(npm run build)",
      "Bash(dir:*)",
      "Bash(cmd /c:*)",
      "Bash(wc:*)",
      "Bash(ffmpeg:*)",
      "Bash(grep:*)",
      "WebFetch(domain:civitai.com)",
      "Bash(openskills --version:*)",
      "Bash(openskills --help:*)",
      "Bash(openskills install:*)",
      "Bash(openskills list:*)",
      "Bash(openskills sync:*)",
      "Bash(openskills read:*)",
      "Bash(pip install:*)",
      "Bash(playwright install:*)",
      "Bash(taskkill:*)",
      "Bash(powershell:*)",
      "Bash(git clone:*)",
      "Bash(xargs -I {} sh -c 'echo \"\"=== {} ===\"\" && cat \"\"{}\"\"')",
      "Bash(find:*)",
      "Bash(__NEW_LINE__ echo -e \"\\\\n=== ai-prompts ===\")",
      "Bash(__NEW_LINE__ echo -e \"\\\\n=== Awesome-Cursor-rules ===\")",
      "Bash(__NEW_LINE__ echo -e \"\\\\n=== LLM-Prompt-Library ===\")",
      "Bash(git -C /e/ANA show:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(xargs ls:*)",
      "Bash(npm run lint:*)",
      "Bash(git -C /e/ANA diff --stat)",
      "Bash(server/ana-core.cjs )",
      "Bash(server/intelligence/context-selector.cjs )",
      "Bash(server/services/skill-loader.cjs )",
      "Bash(server/routes/games-routes.cjs )",
      "Bash(server/agents/tool-agent.cjs )",
      "Bash(server/games/motus-engine.cjs )",
      "Bash(server/games/motus.cjs )",
      "Bash(ana-interface/src/pages/LogsPage.jsx )",
      "Bash(ana-interface/src/pages/LogsPage.css )",
      "Bash(ana-interface/src/pages/GamesPage.jsx )",
      "Bash(ana-interface/src/pages/GamesPage.css )",
      "Bash(ana-interface/src/components/MotusGame.jsx )",
      "Bash(ana-interface/src/components/MotusGame.css )",
      "Bash(ana-interface/src/components/Icons.jsx )",
      "Bash(ana-interface/src/config.js )",
      "Bash(knowledge/learned/coding-workflows.json )",
      "Bash(CLAUDE.md)",
      "Bash(git -C /e/ANA add agents/agent_action_monitor.cjs agents/agent_assumption_detector.cjs agents/agent_doc_updater.cjs agents/agent_emotion_analyzer.cjs agents/agent_learning_monitor.cjs agents/agent_memory_manager.cjs agents/agent_methodology_checker.cjs agents/agent_research_reminder.cjs agents/agent_strict_backup_enforcer.cjs agents/agent_system_monitor.cjs agents/start_agents.cjs server/ana-core.cjs)",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nfeat: IntÃ©gration RÃ‰ELLE des 16 agents autonomes dans Ana SUPERIA\n\n- Connexion ana-core au shared event bus des agents\n- Ã‰mission Ã©vÃ©nements ana:message_received, ana:response_complete\n- Ã‰coute agent:insight et injection dans contexte LLM\n- Correction chemins agents: E:/ANA/memory/ au lieu de E:/MÃ©moire Claude/\n\nAgents adaptÃ©s pour Ana:\n- emotion_analyzer: dÃ©tection Ã©motions, Ã©met insights sur ton utilisateur\n- action_monitor: dÃ©tecte actions rÃ©pÃ©tÃ©es/inefficaces\n- research_reminder: rappelle recherche web avant modification\n- methodology_checker: vÃ©rifie TodoList, dÃ©tecte prÃ©cipitation\n- strict_backup_enforcer: alerte modifications sans backup\n- doc_updater: dÃ©tecte nouvelles connaissances Ã  documenter\n- system_monitor: surveille ports Ana \\(3338, 5173, 8000, 3336\\)\n\nLes agents INFLUENCENT maintenant les rÃ©ponses via injection contexte!\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /e/ANA status --short)",
      "Bash(git -C /e/ANA add:*)",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nfeat: Pont socket.io agents â†” ana-core pour injection d''insights\n\nPROBLÃˆME RÃ‰SOLU:\n- Les agents \\(port 3336\\) et ana-core \\(port 3338\\) sont des processus sÃ©parÃ©s\n- Le SharedEventBus est un singleton PAR processus\n- Les insights des agents n''Ã©taient pas transmis Ã  ana-core\n\nSOLUTION:\n1. Bridge socket.io dans start_agents.cjs:\n   - Connexion au WebSocket ana-core \\(port 3338\\)\n   - Ã‰coute agent:insight local â†’ transmission via socket.io\n   - Relai ana:* events de ana-core vers bus local\n\n2. Handlers socket.io dans ana-core.cjs:\n   - Ã‰coute agent:insight depuis clients socket.io\n   - Stockage dans tableau agentInsights \\(max 20\\)\n\n3. Injection dans flux WebSocket chat:\n   - Les insights sont ajoutÃ©s au fullPrompt avant appel LLM\n   - Affichage log [WS] Agent insights injectes: N\n\nFLUX COMPLET:\nMessage 1 â†’ Agents analysent â†’ Insight Ã©mis â†’ StockÃ©\nMessage 2 â†’ Insight injectÃ© â†’ LLM rÃ©pond avec conscience\n\nTESTÃ‰:\n- research_reminder dÃ©tecte \"react typescript\"\n- Insight: \"AVANT de modifier typescript: fais une recherche web!\"\n- Ana rÃ©pond: \"n 'oubliez pas de faire une recherche web\"\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(del E:anafix_insights.cjs)",
      "Bash(git -C /e/ANA diff --stat 73b7191 HEAD)",
      "Bash(git -C /e/ANA diff 73b7191 HEAD -- server/ana-core.cjs server/services/skill-loader.cjs server/intelligence/context-selector.cjs server/core/tool-groups.cjs)",
      "Bash(git -C /e/ANA diff 73b7191 HEAD -- server/services/skill-loader.cjs server/intelligence/context-selector.cjs)",
      "Bash(git -C /e/ANA diff 73b7191 HEAD -- server/ana-core.cjs)",
      "Bash(git -C /e/ANA diff server/ana-core.cjs)",
      "Bash(git -C /e/ANA checkout:*)",
      "Bash(git -C /e/ANA diff --name-only HEAD~3)",
      "Bash(git -C /e/ANA diff 3fddb82 HEAD -- server/core/tool-groups.cjs)",
      "Bash(cp:*)",
      "Bash(python:*)",
      "Bash(echo \"Pas de /api/status\" curl -s -X POST http://localhost:3338/chat -H \"Content-Type: application/json\" -d '{\"\"message\"\":\"\"test\"\"}')",
      "Bash(tasklist:*)",
      "Bash(python3:*)",
      "Bash(server/services/cerebras-service.cjs )",
      "Bash(server/agents/coding-agent.cjs )",
      "Bash(server/services/tool-executor.cjs )",
      "Bash(ana-interface/src/components/BoggleGame.jsx )",
      "Bash(server/games/boggle-engine.cjs )",
      "Bash(server/routes/games-routes.cjs)",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nfix: Correction gÃ©nÃ©ration code complexe Ana + Boggle game\n\nCorrections LLM:\n- max_tokens 4096 â†’ 8192 \\(cerebras-service.cjs\\)\n- Validation content vide dans write_file \\(3 fichiers\\)\n- Logging erreurs JSON parse pour debug truncation\n\nBoggle game:\n- BoggleGame.jsx: composant React complet\n- boggle-engine.cjs: moteur backend\n- games-routes.cjs: endpoints API\n- GamesPage.jsx: fix import path\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nchore: Sauvegarde complÃ¨te ANA - 23 dÃ©cembre 2025\n\n- MÃ©moire et conversations\n- Backups et fichiers temporaires\n- Configurations et logs\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nfeat: Contexte Ana exclusif - suppression dual context Claude\n\nCHANGEMENT:\n- Suppression du \"Contexte Claude\" dans loadContext\\(\\)\n- Ana utilise maintenant uniquement son propre contexte\n- Limite augmentÃ©e de 40 KB Ã  80 KB pour Ana\n\nAVANT:\n[MEMORY] Contexte Claude: 39.88 KB\n[MEMORY] Contexte Ana: 39.84 KB\n[MEMORY] BALANCED DUAL CONTEXT: 79.80 KB\n\nAPRÃˆS:\n[MEMORY] Contexte Ana: 79.22 KB \\(de 103.69 KB\\)\n[MEMORY] ANA CONTEXT TOTAL: 79.25 KB\n\nGain: +40 KB de mÃ©moire contextuelle pour Ana\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git -C /e/ANA commit -m \"$\\(cat <<''EOF''\nfix: Spell-checker - lecture directe fichiers dictionnaire\n\nProbleme: \"Missing `aff` in dictionary\" au demarrage\nCause: Conflit ESM/CommonJS avec import dynamique dictionary-fr\n\nSolution: Lire index.aff et index.dic directement via fs.readFileSync\nau lieu d''utiliser import\\(''dictionary-fr''\\)\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "WebFetch(domain:tobias-kirschstein.github.io)",
      "Bash(nvidia-smi:*)",
      "Bash(py -3.10:*)",
      "Bash(start:*)",
      "Bash(\"C:\\\\Users\\\\niwno\\\\Downloads\\\\Miniconda3-latest-Windows-x86_64.exe\" /InstallationType=JustMe /AddToPath=1 /S /D=C:Miniconda3)",
      "Bash(C:Miniconda3Scriptsconda.exe --version)",
      "Bash(\"C:/Users/niwno/Miniconda3/Scripts/conda.exe\" --version)",
      "Bash(\"C:/Users/niwno/Miniconda3/Scripts/conda.exe\" create:*)",
      "Bash(\"C:/Users/niwno/Miniconda3/Scripts/conda.exe\" tos accept --override-channels --channel https://repo.anaconda.com/pkgs/main)",
      "Bash(\"C:/Users/niwno/Miniconda3/Scripts/conda.exe\" tos accept:*)",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" -m pip install:*)",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" -m pip install -r \"E:/AI_Tools/SadTalker/requirements.txt\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\":*)",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"E:/AI_Tools/ComfyUI/ComfyUI/output/Ana_svd_1766344414429_00001_.png\" --enhancer gfpgan --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"ana_avatar.png\" --enhancer gfpgan --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"examples/source_image/art_0.png\" --enhancer gfpgan --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"ana_avatar.png\" --preprocess full --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" -c:*)",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/RD_Radio31_000.wav\" --source_image \"examples/source_image/art_18.png\" --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"ana_face_cropped.png\" --enhancer gfpgan --result_dir \"./results\")",
      "Bash(\"C:/Users/niwno/Miniconda3/envs/sadtalker/python.exe\" inference.py --driven_audio \"examples/driven_audio/fayu.wav\" --source_image \"ana_face_realistic.png\" --enhancer gfpgan --result_dir \"./results\")",
      "Bash(server/services/sadtalker-service.cjs )",
      "Bash(ana-interface/src/components/AvatarWindow.jsx )",
      "Bash(ana-interface/src/components/AvatarWindow.css )",
      "Bash(ana-interface/src/pages/ChatPage.jsx )",
      "Bash(ana-interface/src/pages/ChatPage.css )",
      "Bash(Ana_img2img_00024_.png)",
      "Bash(git -C /e/ANA diff HEAD~5 HEAD -- server/config/system-prompt.json)",
      "Bash(git -C /e/ANA diff d291711 HEAD -- server/utils/spell-checker.cjs)",
      "Bash(git -C /e/ANA diff HEAD -- server/config/system-prompt.json)",
      "Bash(git -C /e/ANA commit:*)",
      "Bash(schtasks /query /fo TABLE /nh)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "cd /e/ANA && git add -A && git commit -m \"Auto-backup avant modification\" --allow-empty 2>/dev/null || true"
          }
        ]
      },
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "cd /e/ANA && git add -A && git commit -m \"Auto-backup avant modification\" --allow-empty 2>/dev/null || true"
          }
        ]
      }
    ]
  }
}
