{
  "category": "valtio-proxy-state",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Valtio proxy-based state management patterns",
  "skills": [
    {"id": "val01", "type": "setup", "name": "Install Valtio", "description": "Add package", "pattern": "npm install valtio", "example": "Proxy state"},
    {"id": "val02", "type": "basic", "name": "Create Proxy", "description": "Define state", "pattern": "import { proxy } from 'valtio'; const state = proxy({ count: 0, text: 'hello' })", "example": "Proxy state"},
    {"id": "val03", "type": "basic", "name": "Mutate State", "description": "Direct mutation", "pattern": "state.count++; state.text = 'world'; state.user = { name: 'John' }", "example": "Simple updates"},
    {"id": "val04", "type": "basic", "name": "useSnapshot", "description": "React hook", "pattern": "import { useSnapshot } from 'valtio'; const snap = useSnapshot(state); return <div>{snap.count}</div>", "example": "Read in React"},
    {"id": "val05", "type": "basic", "name": "Snapshot Immutable", "description": "Read-only", "pattern": "const snap = useSnapshot(state); // snap is frozen, can't mutate", "example": "Immutable read"},
    {"id": "val06", "type": "update", "name": "Update from Component", "description": "Mutate proxy", "pattern": "const snap = useSnapshot(state); return <button onClick={() => state.count++}>{snap.count}</button>", "example": "Click handler"},
    {"id": "val07", "type": "update", "name": "Array Operations", "description": "Array state", "pattern": "state.items.push(newItem); state.items = state.items.filter(i => i.id !== id); state.items[0].done = true", "example": "Array mutations"},
    {"id": "val08", "type": "update", "name": "Nested Updates", "description": "Deep mutation", "pattern": "state.user.profile.name = 'Jane'; state.settings.theme.dark = true", "example": "Nested objects"},
    {"id": "val09", "type": "subscribe", "name": "subscribe", "description": "Listen changes", "pattern": "import { subscribe } from 'valtio'; const unsub = subscribe(state, () => console.log('State changed:', state.count))", "example": "State listener"},
    {"id": "val10", "type": "subscribe", "name": "subscribeKey", "description": "Key listener", "pattern": "import { subscribeKey } from 'valtio/utils'; subscribeKey(state, 'count', (v) => console.log('count:', v))", "example": "Single key"},
    {"id": "val11", "type": "snapshot", "name": "snapshot", "description": "Get snapshot", "pattern": "import { snapshot } from 'valtio'; const snap = snapshot(state); // outside React", "example": "Manual snapshot"},
    {"id": "val12", "type": "ref", "name": "ref", "description": "Untracked value", "pattern": "import { ref } from 'valtio'; state.domRef = ref(document.getElementById('app'))", "example": "Non-reactive ref"},
    {"id": "val13", "type": "derive", "name": "derive", "description": "Computed values", "pattern": "import { derive } from 'valtio/utils'; const derived = derive({ doubled: (get) => get(state).count * 2 })", "example": "Derived state"},
    {"id": "val14", "type": "derive", "name": "Use Derived", "description": "Read derived", "pattern": "const snap = useSnapshot(derived); return <div>{snap.doubled}</div>", "example": "Computed in React"},
    {"id": "val15", "type": "devtools", "name": "devtools", "description": "Redux DevTools", "pattern": "import { devtools } from 'valtio/utils'; devtools(state, { name: 'My State' })", "example": "Debug tools"},
    {"id": "val16", "type": "watch", "name": "watch", "description": "Side effects", "pattern": "import { watch } from 'valtio/utils'; watch((get) => { console.log('count is', get(state).count) })", "example": "Reactive effect"},
    {"id": "val17", "type": "proxyMap", "name": "proxyMap", "description": "Proxy Map", "pattern": "import { proxyMap } from 'valtio/utils'; const users = proxyMap([['1', { name: 'John' }]])", "example": "Map state"},
    {"id": "val18", "type": "proxySet", "name": "proxySet", "description": "Proxy Set", "pattern": "import { proxySet } from 'valtio/utils'; const tags = proxySet(['react', 'valtio'])", "example": "Set state"},
    {"id": "val19", "type": "actions", "name": "Actions Pattern", "description": "Organize mutations", "pattern": "const actions = { increment: () => state.count++, reset: () => { state.count = 0 } }", "example": "Action functions"},
    {"id": "val20", "type": "actions", "name": "Async Actions", "description": "Async mutations", "pattern": "const actions = { fetchUser: async () => { state.loading = true; state.user = await api.getUser(); state.loading = false } }", "example": "Async operations"},
    {"id": "val21", "type": "split", "name": "Multiple Proxies", "description": "Split state", "pattern": "const userState = proxy({ user: null }); const uiState = proxy({ theme: 'light' })", "example": "Modular state"},
    {"id": "val22", "type": "persist", "name": "proxyWithComputed", "description": "With computed", "pattern": "import { proxyWithComputed } from 'valtio/utils'; const state = proxyWithComputed({ count: 0 }, { doubled: (snap) => snap.count * 2 })", "example": "Built-in computed"},
    {"id": "val23", "type": "persist", "name": "Local Storage", "description": "Persist state", "pattern": "subscribe(state, () => { localStorage.setItem('state', JSON.stringify(snapshot(state))) })", "example": "Save state"},
    {"id": "val24", "type": "persist", "name": "Hydrate", "description": "Load state", "pattern": "const saved = localStorage.getItem('state'); if (saved) Object.assign(state, JSON.parse(saved))", "example": "Load state"},
    {"id": "val25", "type": "ssr", "name": "SSR Support", "description": "Server render", "pattern": "Use snapshot() on server, hydrate on client with useSnapshot", "example": "Server-side"},
    {"id": "val26", "type": "testing", "name": "Test State", "description": "Unit testing", "pattern": "const state = proxy({ count: 0 }); state.count++; expect(snapshot(state).count).toBe(1)", "example": "Test mutations"},
    {"id": "val27", "type": "typing", "name": "TypeScript", "description": "Type state", "pattern": "interface State { count: number; user: User | null }; const state = proxy<State>({ count: 0, user: null })", "example": "Typed proxy"},
    {"id": "val28", "type": "vanilla", "name": "Vanilla JS", "description": "Non-React", "pattern": "import { proxy, subscribe, snapshot } from 'valtio/vanilla'; // No React dependency", "example": "Framework agnostic"},
    {"id": "val29", "type": "compare", "name": "vs Zustand", "description": "Differences", "pattern": "Valtio: mutable syntax, automatic tracking. Zustand: explicit selectors, more explicit updates", "example": "Comparison"},
    {"id": "val30", "type": "performance", "name": "Performance Tips", "description": "Optimization", "pattern": "Split large proxies, use ref for non-reactive data, avoid deep nesting", "example": "Best practices"}
  ]
}
