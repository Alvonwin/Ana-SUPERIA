{
  "category": "rollup-bundler",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Rollup module bundler patterns",
  "skills": [
    {"id": "rup01", "type": "setup", "name": "Install Rollup", "description": "NPM install", "pattern": "npm install rollup --save-dev\nnpm install @rollup/plugin-node-resolve @rollup/plugin-commonjs --save-dev", "example": "Install"},
    {"id": "rup02", "type": "cli", "name": "CLI Build", "description": "Command line", "pattern": "rollup src/main.js --file bundle.js --format iife\nrollup -c  # Use config file", "example": "CLI build"},
    {"id": "rup03", "type": "config", "name": "Basic Config", "description": "rollup.config.js", "pattern": "export default {\n  input: 'src/main.js',\n  output: {\n    file: 'dist/bundle.js',\n    format: 'esm',\n    sourcemap: true\n  }\n};", "example": "Config"},
    {"id": "rup04", "type": "format", "name": "Output Formats", "description": "Module formats", "pattern": "output: {\n  format: 'esm',   // ES modules\n  // format: 'cjs',   // CommonJS\n  // format: 'iife',  // Browser global\n  // format: 'umd',   // Universal\n  // format: 'amd'    // AMD\n}", "example": "Formats"},
    {"id": "rup05", "type": "output", "name": "Multiple Outputs", "description": "Multi-format", "pattern": "export default {\n  input: 'src/main.js',\n  output: [\n    { file: 'dist/bundle.esm.js', format: 'esm' },\n    { file: 'dist/bundle.cjs.js', format: 'cjs' },\n    { file: 'dist/bundle.umd.js', format: 'umd', name: 'MyLib' }\n  ]\n};", "example": "Multi output"},
    {"id": "rup06", "type": "plugin", "name": "Node Resolve", "description": "Resolve node_modules", "pattern": "import resolve from '@rollup/plugin-node-resolve';\n\nexport default {\n  plugins: [\n    resolve()\n  ]\n};", "example": "Node resolve"},
    {"id": "rup07", "type": "plugin", "name": "CommonJS", "description": "Convert CJS to ESM", "pattern": "import commonjs from '@rollup/plugin-commonjs';\n\nexport default {\n  plugins: [\n    commonjs()\n  ]\n};", "example": "CommonJS"},
    {"id": "rup08", "type": "plugin", "name": "Babel Plugin", "description": "Transpile code", "pattern": "import babel from '@rollup/plugin-babel';\n\nexport default {\n  plugins: [\n    babel({\n      babelHelpers: 'bundled',\n      presets: ['@babel/preset-env']\n    })\n  ]\n};", "example": "Babel"},
    {"id": "rup09", "type": "plugin", "name": "TypeScript", "description": "TS support", "pattern": "import typescript from '@rollup/plugin-typescript';\n\nexport default {\n  input: 'src/main.ts',\n  plugins: [\n    typescript()\n  ]\n};", "example": "TypeScript"},
    {"id": "rup10", "type": "plugin", "name": "Terser Plugin", "description": "Minification", "pattern": "import terser from '@rollup/plugin-terser';\n\nexport default {\n  plugins: [\n    terser()\n  ]\n};", "example": "Terser"},
    {"id": "rup11", "type": "plugin", "name": "JSON Plugin", "description": "Import JSON", "pattern": "import json from '@rollup/plugin-json';\n\nexport default {\n  plugins: [\n    json()\n  ]\n};", "example": "JSON"},
    {"id": "rup12", "type": "plugin", "name": "Replace Plugin", "description": "Replace strings", "pattern": "import replace from '@rollup/plugin-replace';\n\nexport default {\n  plugins: [\n    replace({\n      preventAssignment: true,\n      'process.env.NODE_ENV': JSON.stringify('production')\n    })\n  ]\n};", "example": "Replace"},
    {"id": "rup13", "type": "external", "name": "External Deps", "description": "Exclude from bundle", "pattern": "export default {\n  external: ['react', 'react-dom'],\n  // Or function\n  external: (id) => /^lodash/.test(id)\n};", "example": "External"},
    {"id": "rup14", "type": "globals", "name": "Global Names", "description": "UMD globals", "pattern": "output: {\n  format: 'umd',\n  name: 'MyLibrary',\n  globals: {\n    react: 'React',\n    'react-dom': 'ReactDOM'\n  }\n}", "example": "Globals"},
    {"id": "rup15", "type": "entry", "name": "Multiple Entries", "description": "Entry points", "pattern": "export default {\n  input: {\n    main: 'src/main.js',\n    utils: 'src/utils.js'\n  },\n  output: {\n    dir: 'dist',\n    format: 'esm'\n  }\n};", "example": "Multi entry"},
    {"id": "rup16", "type": "chunk", "name": "Manual Chunks", "description": "Code splitting", "pattern": "output: {\n  manualChunks: {\n    vendor: ['react', 'react-dom'],\n    utils: ['lodash', 'date-fns']\n  }\n}", "example": "Manual chunks"},
    {"id": "rup17", "type": "tree", "name": "Tree Shaking", "description": "Dead code removal", "pattern": "// Rollup tree-shakes by default\n// Mark side effects in package.json:\n{\n  \"sideEffects\": false,\n  // Or specific files:\n  \"sideEffects\": [\"*.css\"]\n}", "example": "Tree shaking"},
    {"id": "rup18", "type": "sourcemap", "name": "Source Maps", "description": "Debug maps", "pattern": "output: {\n  sourcemap: true,           // External file\n  // sourcemap: 'inline',    // Inline\n  // sourcemap: 'hidden'     // No reference\n}", "example": "Source maps"},
    {"id": "rup19", "type": "banner", "name": "Banner/Footer", "description": "Add text", "pattern": "output: {\n  banner: '/* My Library v1.0.0 */',\n  footer: '/* End of bundle */'\n}", "example": "Banner"},
    {"id": "rup20", "type": "intro", "name": "Intro/Outro", "description": "Wrap code", "pattern": "output: {\n  intro: 'const ENVIRONMENT = \"production\";',\n  outro: 'console.log(\"Loaded\");'\n}", "example": "Intro/Outro"},
    {"id": "rup21", "type": "preserve", "name": "Preserve Modules", "description": "Keep structure", "pattern": "output: {\n  preserveModules: true,\n  dir: 'dist'\n}", "example": "Preserve modules"},
    {"id": "rup22", "type": "dynamic", "name": "Dynamic Import", "description": "Code splitting", "pattern": "// In code\nconst module = await import('./lazy.js');\n\n// Config handles chunk generation\noutput: {\n  dir: 'dist',\n  format: 'esm'\n}", "example": "Dynamic import"},
    {"id": "rup23", "type": "watch", "name": "Watch Mode", "description": "File watching", "pattern": "export default {\n  watch: {\n    include: 'src/**',\n    exclude: 'node_modules/**'\n  }\n};\n\n// CLI: rollup -c -w", "example": "Watch"},
    {"id": "rup24", "type": "api", "name": "JavaScript API", "description": "Programmatic", "pattern": "import { rollup } from 'rollup';\n\nconst bundle = await rollup({\n  input: 'src/main.js'\n});\n\nawait bundle.write({\n  file: 'dist/bundle.js',\n  format: 'esm'\n});", "example": "JS API"},
    {"id": "rup25", "type": "cache", "name": "Build Cache", "description": "Incremental builds", "pattern": "let cache;\n\nasync function build() {\n  const bundle = await rollup({ input: 'src/main.js', cache });\n  cache = bundle.cache;\n  await bundle.write({ file: 'dist/bundle.js' });\n}", "example": "Cache"},
    {"id": "rup26", "type": "custom", "name": "Custom Plugin", "description": "Create plugin", "pattern": "function myPlugin() {\n  return {\n    name: 'my-plugin',\n    resolveId(source) {\n      if (source === 'virtual') return source;\n    },\n    load(id) {\n      if (id === 'virtual') return 'export default 42';\n    }\n  };\n}", "example": "Custom plugin"},
    {"id": "rup27", "type": "hook", "name": "Plugin Hooks", "description": "Lifecycle hooks", "pattern": "{\n  buildStart() { /* Build starts */ },\n  resolveId(source) { /* Resolve imports */ },\n  load(id) { /* Load file content */ },\n  transform(code, id) { /* Transform code */ },\n  generateBundle() { /* Before write */ },\n  writeBundle() { /* After write */ }\n}", "example": "Hooks"},
    {"id": "rup28", "type": "context", "name": "Plugin Context", "description": "Plugin methods", "pattern": "{\n  name: 'my-plugin',\n  buildStart() {\n    this.warn('Warning message');\n    this.error('Error message');\n    const resolved = this.resolve('./module');\n    this.emitFile({ type: 'asset', name: 'file.txt', source: 'content' });\n  }\n}", "example": "Context"},
    {"id": "rup29", "type": "interop", "name": "Interop", "description": "CJS/ESM interop", "pattern": "output: {\n  interop: 'auto',\n  // interop: 'esModule',\n  // interop: 'default',\n  // interop: 'defaultOnly'\n}", "example": "Interop"},
    {"id": "rup30", "type": "perf", "name": "Performance", "description": "Build perf", "pattern": "export default {\n  perf: true  // Enable performance timing\n};\n\n// Or CLI: rollup -c --perf", "example": "Performance"}
  ]
}
