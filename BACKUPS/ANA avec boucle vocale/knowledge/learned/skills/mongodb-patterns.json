{
  "category": "mongodb-patterns",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "MongoDB database patterns and operations",
  "skills": [
    {"id": "mdb01", "type": "connect", "name": "Connect MongoDB", "description": "Connection string", "pattern": "mongodb://localhost:27017/dbname or mongodb+srv://user:pass@cluster", "example": "Local or Atlas"},
    {"id": "mdb02", "type": "connect", "name": "Mongoose Connect", "description": "Node.js ODM", "pattern": "mongoose.connect(uri, { useNewUrlParser: true })", "example": "With options"},
    {"id": "mdb03", "type": "schema", "name": "Schema Definition", "description": "Define structure", "pattern": "new Schema({ name: String, age: Number, created: { type: Date, default: Date.now } })", "example": "Document structure"},
    {"id": "mdb04", "type": "schema", "name": "Schema Types", "description": "Field types", "pattern": "String, Number, Boolean, Date, Buffer, ObjectId, Array, Mixed", "example": "Built-in types"},
    {"id": "mdb05", "type": "schema", "name": "Nested Schema", "description": "Embedded docs", "pattern": "address: { street: String, city: String, zip: String }", "example": "Sub-documents"},
    {"id": "mdb06", "type": "schema", "name": "Schema Validation", "description": "Field validation", "pattern": "email: { type: String, required: true, unique: true, match: /@/ }", "example": "Built-in validators"},
    {"id": "mdb07", "type": "model", "name": "Create Model", "description": "Model from schema", "pattern": "const User = mongoose.model('User', userSchema)", "example": "Collection mapping"},
    {"id": "mdb08", "type": "crud", "name": "Create Document", "description": "Insert one", "pattern": "await User.create({ name: 'John', email: 'john@example.com' })", "example": "Insert document"},
    {"id": "mdb09", "type": "crud", "name": "Find Documents", "description": "Query many", "pattern": "await User.find({ age: { $gte: 18 } })", "example": "Filter results"},
    {"id": "mdb10", "type": "crud", "name": "Find One", "description": "Query single", "pattern": "await User.findOne({ email: 'john@example.com' })", "example": "First match"},
    {"id": "mdb11", "type": "crud", "name": "Find by ID", "description": "Query by _id", "pattern": "await User.findById(id)", "example": "ObjectId lookup"},
    {"id": "mdb12", "type": "crud", "name": "Update Document", "description": "Modify one", "pattern": "await User.findByIdAndUpdate(id, { name: 'Jane' }, { new: true })", "example": "Return updated"},
    {"id": "mdb13", "type": "crud", "name": "Delete Document", "description": "Remove one", "pattern": "await User.findByIdAndDelete(id)", "example": "Remove by ID"},
    {"id": "mdb14", "type": "query", "name": "Query Operators", "description": "Comparison ops", "pattern": "$eq, $ne, $gt, $gte, $lt, $lte, $in, $nin", "example": "Filter conditions"},
    {"id": "mdb15", "type": "query", "name": "Logical Operators", "description": "Combine queries", "pattern": "$and, $or, $not, $nor", "example": "Complex filters"},
    {"id": "mdb16", "type": "query", "name": "Array Operators", "description": "Array queries", "pattern": "$all, $elemMatch, $size", "example": "Array matching"},
    {"id": "mdb17", "type": "query", "name": "Projection", "description": "Select fields", "pattern": "User.find({}, { name: 1, email: 1, _id: 0 })", "example": "Include/exclude"},
    {"id": "mdb18", "type": "query", "name": "Sorting", "description": "Order results", "pattern": ".sort({ createdAt: -1 })", "example": "Descending order"},
    {"id": "mdb19", "type": "query", "name": "Pagination", "description": "Skip and limit", "pattern": ".skip(20).limit(10)", "example": "Page 3, 10 per page"},
    {"id": "mdb20", "type": "index", "name": "Create Index", "description": "Performance index", "pattern": "userSchema.index({ email: 1 }, { unique: true })", "example": "Unique index"},
    {"id": "mdb21", "type": "index", "name": "Compound Index", "description": "Multi-field index", "pattern": "schema.index({ firstName: 1, lastName: 1 })", "example": "Combined lookup"},
    {"id": "mdb22", "type": "index", "name": "Text Index", "description": "Full-text search", "pattern": "schema.index({ content: 'text' }); Model.find({ $text: { $search: 'keyword' } })", "example": "Text search"},
    {"id": "mdb23", "type": "aggregation", "name": "Aggregation Pipeline", "description": "Data processing", "pattern": "Model.aggregate([{ $match: {} }, { $group: {} }, { $sort: {} }])", "example": "Pipeline stages"},
    {"id": "mdb24", "type": "aggregation", "name": "$group Stage", "description": "Group documents", "pattern": "{ $group: { _id: '$category', total: { $sum: '$amount' } } }", "example": "Sum by category"},
    {"id": "mdb25", "type": "aggregation", "name": "$lookup Stage", "description": "Join collections", "pattern": "{ $lookup: { from: 'orders', localField: '_id', foreignField: 'userId', as: 'orders' } }", "example": "Left join"},
    {"id": "mdb26", "type": "populate", "name": "Populate References", "description": "Join documents", "pattern": "User.findById(id).populate('posts')", "example": "Resolve refs"},
    {"id": "mdb27", "type": "middleware", "name": "Pre Middleware", "description": "Before save", "pattern": "schema.pre('save', async function() { this.updatedAt = new Date() })", "example": "Pre-hooks"},
    {"id": "mdb28", "type": "middleware", "name": "Post Middleware", "description": "After save", "pattern": "schema.post('save', function(doc) { console.log('Saved:', doc._id) })", "example": "Post-hooks"},
    {"id": "mdb29", "type": "transaction", "name": "Transactions", "description": "ACID operations", "pattern": "const session = await mongoose.startSession(); session.withTransaction(async () => {})", "example": "Atomic multi-doc"},
    {"id": "mdb30", "type": "pattern", "name": "Soft Delete", "description": "Mark as deleted", "pattern": "deletedAt: Date field + query middleware to filter", "example": "Recoverable delete"}
  ]
}
