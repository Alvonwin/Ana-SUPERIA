{
  "category": "tanstack-react-query",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "TanStack React Query data fetching",
  "skills": [
    {"id": "rq01", "type": "setup", "name": "Install React Query", "description": "Add to project", "pattern": "npm install @tanstack/react-query", "example": "v5 current"},
    {"id": "rq02", "type": "setup", "name": "Query Client Provider", "description": "Provider setup", "pattern": "<QueryClientProvider client={queryClient}><App /></QueryClientProvider>", "example": "Root wrapper"},
    {"id": "rq03", "type": "setup", "name": "Create Query Client", "description": "Client instance", "pattern": "const queryClient = new QueryClient()", "example": "With default options"},
    {"id": "rq04", "type": "query", "name": "useQuery Basic", "description": "Fetch data", "pattern": "const { data, isLoading } = useQuery({ queryKey: ['todos'], queryFn: fetchTodos })", "example": "Basic query"},
    {"id": "rq05", "type": "query", "name": "Query Key", "description": "Cache key", "pattern": "queryKey: ['todos', { status, page }]", "example": "Unique per params"},
    {"id": "rq06", "type": "query", "name": "Query Function", "description": "Fetcher function", "pattern": "queryFn: ({ queryKey }) => fetch(url)", "example": "Receives context"},
    {"id": "rq07", "type": "query", "name": "Query State", "description": "Loading states", "pattern": "{ isLoading, isFetching, isError, isSuccess, data, error }", "example": "State flags"},
    {"id": "rq08", "type": "query", "name": "Enabled", "description": "Conditional query", "pattern": "enabled: !!userId", "example": "Wait for dependency"},
    {"id": "rq09", "type": "query", "name": "Stale Time", "description": "Fresh duration", "pattern": "staleTime: 1000 * 60 * 5", "example": "5 minutes fresh"},
    {"id": "rq10", "type": "query", "name": "Cache Time", "description": "Cache duration", "pattern": "gcTime: 1000 * 60 * 30", "example": "30 min cache"},
    {"id": "rq11", "type": "query", "name": "Refetch Options", "description": "Auto refetch", "pattern": "refetchOnWindowFocus, refetchOnMount, refetchInterval", "example": "Background updates"},
    {"id": "rq12", "type": "query", "name": "Select", "description": "Transform data", "pattern": "select: (data) => data.filter(x => x.active)", "example": "Derived data"},
    {"id": "rq13", "type": "query", "name": "Placeholder Data", "description": "Initial data", "pattern": "placeholderData: previousData", "example": "Avoid loading flash"},
    {"id": "rq14", "type": "mutation", "name": "useMutation", "description": "Modify data", "pattern": "const mutation = useMutation({ mutationFn: addTodo })", "example": "POST, PUT, DELETE"},
    {"id": "rq15", "type": "mutation", "name": "Mutate Function", "description": "Trigger mutation", "pattern": "mutation.mutate(newTodo)", "example": "Call to execute"},
    {"id": "rq16", "type": "mutation", "name": "Mutation State", "description": "Mutation status", "pattern": "{ isPending, isSuccess, isError, mutate, mutateAsync }", "example": "Track progress"},
    {"id": "rq17", "type": "mutation", "name": "Optimistic Update", "description": "Immediate UI update", "pattern": "onMutate: async (newTodo) => { await queryClient.cancelQueries(); const prev = queryClient.getQueryData(['todos']); queryClient.setQueryData(['todos'], old => [...old, newTodo]); return { prev } }", "example": "Rollback on error"},
    {"id": "rq18", "type": "mutation", "name": "Invalidate Queries", "description": "Refetch after mutation", "pattern": "onSuccess: () => queryClient.invalidateQueries({ queryKey: ['todos'] })", "example": "Refresh data"},
    {"id": "rq19", "type": "infinite", "name": "useInfiniteQuery", "description": "Pagination", "pattern": "useInfiniteQuery({ queryKey: ['projects'], queryFn: fetchPage, getNextPageParam: (lastPage) => lastPage.nextCursor })", "example": "Infinite scroll"},
    {"id": "rq20", "type": "infinite", "name": "Fetch Next Page", "description": "Load more", "pattern": "const { fetchNextPage, hasNextPage, isFetchingNextPage } = useInfiniteQuery(...)", "example": "Pagination controls"},
    {"id": "rq21", "type": "prefetch", "name": "Prefetch Queries", "description": "Preload data", "pattern": "await queryClient.prefetchQuery({ queryKey: ['todo', id], queryFn: fetchTodo })", "example": "On hover/route"},
    {"id": "rq22", "type": "cache", "name": "Get Query Data", "description": "Read cache", "pattern": "queryClient.getQueryData(['todos'])", "example": "Access cached"},
    {"id": "rq23", "type": "cache", "name": "Set Query Data", "description": "Update cache", "pattern": "queryClient.setQueryData(['todos'], newData)", "example": "Manual update"},
    {"id": "rq24", "type": "devtools", "name": "React Query DevTools", "description": "Debug tool", "pattern": "<ReactQueryDevtools initialIsOpen={false} />", "example": "Visual debugger"},
    {"id": "rq25", "type": "parallel", "name": "Parallel Queries", "description": "Multiple queries", "pattern": "useQueries({ queries: ids.map(id => ({ queryKey: ['user', id], queryFn: () => fetchUser(id) })) })", "example": "Batch fetch"},
    {"id": "rq26", "type": "dependent", "name": "Dependent Queries", "description": "Sequential queries", "pattern": "const { data: user } = useQuery(...); const { data: projects } = useQuery({ enabled: !!user?.id, ... })", "example": "Wait for first"},
    {"id": "rq27", "type": "suspense", "name": "Suspense Mode", "description": "React Suspense", "pattern": "useSuspenseQuery instead of useQuery", "example": "Declarative loading"},
    {"id": "rq28", "type": "retry", "name": "Retry Config", "description": "Error retry", "pattern": "retry: 3, retryDelay: attemptIndex => Math.min(1000 * 2 ** attemptIndex, 30000)", "example": "Exponential backoff"},
    {"id": "rq29", "type": "offline", "name": "Offline Support", "description": "Work offline", "pattern": "networkMode: 'offlineFirst'", "example": "PWA support"},
    {"id": "rq30", "type": "testing", "name": "Testing Queries", "description": "Test setup", "pattern": "Wrap in QueryClientProvider with new client per test", "example": "Isolated tests"}
  ]
}
