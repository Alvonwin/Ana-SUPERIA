{
  "category": "jotai-atomic-state",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Jotai atomic state management patterns",
  "skills": [
    {"id": "jot01", "type": "setup", "name": "Install Jotai", "description": "NPM install", "pattern": "npm install jotai", "example": "Install"},
    {"id": "jot02", "type": "atom", "name": "Create Atom", "description": "Primitive atom", "pattern": "import { atom } from 'jotai';\n\nconst countAtom = atom(0);\nconst nameAtom = atom('John');\nconst userAtom = atom({ name: '', email: '' });", "example": "Create atom"},
    {"id": "jot03", "type": "use", "name": "useAtom Hook", "description": "Read and write", "pattern": "import { useAtom } from 'jotai';\n\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n  return (\n    <button onClick={() => setCount(c => c + 1)}>\n      {count}\n    </button>\n  );\n}", "example": "useAtom"},
    {"id": "jot04", "type": "use", "name": "useAtomValue", "description": "Read only", "pattern": "import { useAtomValue } from 'jotai';\n\nfunction Display() {\n  const count = useAtomValue(countAtom);\n  return <div>{count}</div>;\n}", "example": "useAtomValue"},
    {"id": "jot05", "type": "use", "name": "useSetAtom", "description": "Write only", "pattern": "import { useSetAtom } from 'jotai';\n\nfunction Incrementer() {\n  const setCount = useSetAtom(countAtom);\n  return <button onClick={() => setCount(c => c + 1)}>+</button>;\n}", "example": "useSetAtom"},
    {"id": "jot06", "type": "derived", "name": "Derived Atom", "description": "Read-only derived", "pattern": "const countAtom = atom(0);\n\nconst doubleCountAtom = atom((get) => get(countAtom) * 2);\nconst isEvenAtom = atom((get) => get(countAtom) % 2 === 0);", "example": "Derived"},
    {"id": "jot07", "type": "derived", "name": "Writable Derived", "description": "Read-write derived", "pattern": "const celsiusAtom = atom(0);\n\nconst fahrenheitAtom = atom(\n  (get) => get(celsiusAtom) * 9/5 + 32,\n  (get, set, newFahrenheit) => {\n    set(celsiusAtom, (newFahrenheit - 32) * 5/9);\n  }\n);", "example": "Writable derived"},
    {"id": "jot08", "type": "async", "name": "Async Atom", "description": "Async read", "pattern": "const userAtom = atom(async (get) => {\n  const id = get(userIdAtom);\n  const response = await fetch(`/api/users/${id}`);\n  return response.json();\n});\n\n// In component (auto suspends)\nconst user = useAtomValue(userAtom);", "example": "Async atom"},
    {"id": "jot09", "type": "async", "name": "Async Write", "description": "Async setter", "pattern": "const submitAtom = atom(\n  null,\n  async (get, set, formData) => {\n    set(loadingAtom, true);\n    await fetch('/api/submit', {\n      method: 'POST',\n      body: JSON.stringify(formData)\n    });\n    set(loadingAtom, false);\n  }\n);", "example": "Async write"},
    {"id": "jot10", "type": "family", "name": "Atom Family", "description": "Parameterized atoms", "pattern": "import { atomFamily } from 'jotai/utils';\n\nconst userAtomFamily = atomFamily((id) =>\n  atom(async () => {\n    const res = await fetch(`/api/users/${id}`);\n    return res.json();\n  })\n);\n\n// Usage\nconst user = useAtomValue(userAtomFamily(userId));", "example": "Atom family"},
    {"id": "jot11", "type": "reset", "name": "Resettable Atom", "description": "Reset to initial", "pattern": "import { atomWithReset, useResetAtom } from 'jotai/utils';\n\nconst countAtom = atomWithReset(0);\n\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n  const resetCount = useResetAtom(countAtom);\n  \n  return <button onClick={resetCount}>Reset</button>;\n}", "example": "Resettable"},
    {"id": "jot12", "type": "storage", "name": "atomWithStorage", "description": "Persist to storage", "pattern": "import { atomWithStorage } from 'jotai/utils';\n\nconst themeAtom = atomWithStorage('theme', 'light');\n\n// Automatically syncs with localStorage\n// Works with sessionStorage too", "example": "Storage"},
    {"id": "jot13", "type": "reducer", "name": "atomWithReducer", "description": "Reducer pattern", "pattern": "import { atomWithReducer } from 'jotai/utils';\n\nconst countReducer = (state, action) => {\n  switch (action.type) {\n    case 'increment': return state + 1;\n    case 'decrement': return state - 1;\n    default: return state;\n  }\n};\n\nconst countAtom = atomWithReducer(0, countReducer);", "example": "Reducer"},
    {"id": "jot14", "type": "select", "name": "selectAtom", "description": "Memoized selector", "pattern": "import { selectAtom } from 'jotai/utils';\n\nconst userAtom = atom({ name: 'John', age: 30 });\nconst nameAtom = selectAtom(userAtom, (user) => user.name);\n\n// Only rerenders when name changes", "example": "Select atom"},
    {"id": "jot15", "type": "split", "name": "splitAtom", "description": "Array items", "pattern": "import { splitAtom } from 'jotai/utils';\n\nconst todosAtom = atom([{ text: 'Learn Jotai' }]);\nconst todoAtomsAtom = splitAtom(todosAtom);\n\n// Each item gets its own atom for efficient updates", "example": "Split atom"},
    {"id": "jot16", "type": "focus", "name": "focusAtom", "description": "Lens-like focus", "pattern": "import { focusAtom } from 'jotai-optics';\n\nconst userAtom = atom({ profile: { name: 'John' } });\nconst nameAtom = focusAtom(userAtom, (optic) => optic.prop('profile').prop('name'));\n\n// Update just the name", "example": "Focus atom"},
    {"id": "jot17", "type": "query", "name": "atomWithQuery", "description": "TanStack Query", "pattern": "import { atomWithQuery } from 'jotai-tanstack-query';\n\nconst userAtom = atomWithQuery((get) => ({\n  queryKey: ['user', get(userIdAtom)],\n  queryFn: async ({ queryKey: [, id] }) => {\n    const res = await fetch(`/api/users/${id}`);\n    return res.json();\n  }\n}));", "example": "Query atom"},
    {"id": "jot18", "type": "provider", "name": "Provider", "description": "Scope atoms", "pattern": "import { Provider } from 'jotai';\n\nfunction App() {\n  return (\n    <Provider>\n      <Counter />\n    </Provider>\n  );\n}\n\n// Multiple providers = isolated state", "example": "Provider"},
    {"id": "jot19", "type": "store", "name": "Create Store", "description": "Custom store", "pattern": "import { createStore, Provider } from 'jotai';\n\nconst myStore = createStore();\nmyStore.set(countAtom, 10);\nmyStore.get(countAtom);  // 10\n\n<Provider store={myStore}>\n  <App />\n</Provider>", "example": "Custom store"},
    {"id": "jot20", "type": "subscribe", "name": "Subscribe", "description": "Listen to changes", "pattern": "const store = createStore();\n\nconst unsubscribe = store.sub(countAtom, () => {\n  console.log('Count changed:', store.get(countAtom));\n});", "example": "Subscribe"},
    {"id": "jot21", "type": "devtools", "name": "DevTools", "description": "Debug atoms", "pattern": "import { useAtomsDebugValue } from 'jotai-devtools';\n\nfunction DebugAtoms() {\n  useAtomsDebugValue();\n  return null;\n}\n\n// Or use jotai-devtools extension", "example": "DevTools"},
    {"id": "jot22", "type": "immer", "name": "atomWithImmer", "description": "Immer updates", "pattern": "import { atomWithImmer } from 'jotai-immer';\n\nconst todosAtom = atomWithImmer([]);\n\n// In component\nsetTodos((draft) => {\n  draft.push({ text: 'New todo' });  // Direct mutation OK!\n});", "example": "Immer"},
    {"id": "jot23", "type": "effect", "name": "atomEffect", "description": "Side effects", "pattern": "import { atomEffect } from 'jotai-effect';\n\nconst logEffect = atomEffect((get) => {\n  console.log('Count is:', get(countAtom));\n});\n\n// Mount effect atom\nfunction App() {\n  useAtom(logEffect);\n}", "example": "Effect"},
    {"id": "jot24", "type": "loadable", "name": "loadable", "description": "Handle loading", "pattern": "import { loadable } from 'jotai/utils';\n\nconst asyncAtom = atom(async () => fetch('/api').then(r => r.json()));\nconst loadableAtom = loadable(asyncAtom);\n\nfunction Component() {\n  const value = useAtomValue(loadableAtom);\n  if (value.state === 'loading') return <Loading />;\n  if (value.state === 'hasError') return <Error />;\n  return <Data data={value.data} />;\n}", "example": "Loadable"},
    {"id": "jot25", "type": "unwrap", "name": "unwrap", "description": "Default async", "pattern": "import { unwrap } from 'jotai/utils';\n\nconst asyncAtom = atom(async () => fetch('/api').then(r => r.json()));\nconst unwrappedAtom = unwrap(asyncAtom, (prev) => prev ?? []);\n\n// Returns [] while loading, then actual data", "example": "Unwrap"},
    {"id": "jot26", "type": "typescript", "name": "TypeScript", "description": "Type safety", "pattern": "interface User {\n  name: string;\n  email: string;\n}\n\nconst userAtom = atom<User | null>(null);\nconst usersAtom = atom<User[]>([]);", "example": "TypeScript"},
    {"id": "jot27", "type": "onmount", "name": "onMount", "description": "Mount callback", "pattern": "const countAtom = atom(0);\ncountAtom.onMount = (setAtom) => {\n  console.log('Atom mounted');\n  // Return cleanup function\n  return () => console.log('Atom unmounted');\n};", "example": "onMount"},
    {"id": "jot28", "type": "debug", "name": "Debug Label", "description": "Name atoms", "pattern": "const countAtom = atom(0);\ncountAtom.debugLabel = 'countAtom';\n\n// Shows in DevTools", "example": "Debug label"},
    {"id": "jot29", "type": "test", "name": "Testing", "description": "Test atoms", "pattern": "import { createStore } from 'jotai';\n\ntest('increment', () => {\n  const store = createStore();\n  store.set(countAtom, 0);\n  store.set(countAtom, (c) => c + 1);\n  expect(store.get(countAtom)).toBe(1);\n});", "example": "Testing"},
    {"id": "jot30", "type": "pattern", "name": "Best Practices", "description": "Patterns", "pattern": "// 1. Keep atoms small and focused\n// 2. Use derived atoms for computed values\n// 3. Use atom families for dynamic data\n// 4. Colocate atoms with components\n// 5. Use loadable/unwrap for async error handling", "example": "Best practices"}
  ]
}
