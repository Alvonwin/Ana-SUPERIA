{
  "category": "vitest-testing-framework",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Vitest testing framework patterns",
  "skills": [
    {"id": "vst01", "type": "setup", "name": "Install Vitest", "description": "NPM install", "pattern": "npm install -D vitest @vitest/ui", "example": "Install"},
    {"id": "vst02", "type": "config", "name": "Configuration", "description": "vitest.config.ts", "pattern": "import { defineConfig } from 'vitest/config';\n\nexport default defineConfig({\n  test: {\n    globals: true,\n    environment: 'jsdom',\n    setupFiles: './src/test/setup.ts'\n  }\n});", "example": "Config"},
    {"id": "vst03", "type": "basic", "name": "Basic Test", "description": "Simple test", "pattern": "import { describe, it, expect } from 'vitest';\n\ndescribe('Math', () => {\n  it('adds numbers', () => {\n    expect(1 + 1).toBe(2);\n  });\n});", "example": "Basic"},
    {"id": "vst04", "type": "matchers", "name": "Matchers", "description": "Assertions", "pattern": "expect(value).toBe(2);\nexpect(obj).toEqual({ a: 1 });\nexpect(value).toBeTruthy();\nexpect(value).toBeFalsy();\nexpect(arr).toContain('item');\nexpect(arr).toHaveLength(3);\nexpect(fn).toThrow();\nexpect(fn).toThrowError('message');", "example": "Matchers"},
    {"id": "vst05", "type": "async", "name": "Async Tests", "description": "Test async code", "pattern": "it('fetches data', async () => {\n  const data = await fetchData();\n  expect(data).toBeDefined();\n});\n\nit('resolves', async () => {\n  await expect(promise).resolves.toBe('value');\n});\n\nit('rejects', async () => {\n  await expect(promise).rejects.toThrow();\n});", "example": "Async"},
    {"id": "vst06", "type": "mock", "name": "Mocking", "description": "Mock functions", "pattern": "import { vi } from 'vitest';\n\nconst mockFn = vi.fn();\nmockFn.mockReturnValue('value');\nmockFn.mockReturnValueOnce('once');\nmockFn.mockResolvedValue({ data: 'async' });\n\nexpect(mockFn).toHaveBeenCalled();\nexpect(mockFn).toHaveBeenCalledWith('arg');", "example": "Mock"},
    {"id": "vst07", "type": "mockModule", "name": "Mock Modules", "description": "Module mocking", "pattern": "vi.mock('./api', () => ({\n  fetchUser: vi.fn(() => ({ id: 1 }))\n}));\n\n// Partial mock\nvi.mock('./utils', async () => {\n  const actual = await vi.importActual('./utils');\n  return { ...actual, helper: vi.fn() };\n});", "example": "MockModule"},
    {"id": "vst08", "type": "spy", "name": "Spies", "description": "Spy on methods", "pattern": "const obj = { method: () => 'real' };\nconst spy = vi.spyOn(obj, 'method');\n\nobj.method();\nexpect(spy).toHaveBeenCalled();\n\nspy.mockRestore();", "example": "Spy"},
    {"id": "vst09", "type": "timer", "name": "Fake Timers", "description": "Mock time", "pattern": "beforeEach(() => vi.useFakeTimers());\nafterEach(() => vi.useRealTimers());\n\nit('advances time', () => {\n  const cb = vi.fn();\n  setTimeout(cb, 1000);\n  \n  vi.advanceTimersByTime(1000);\n  expect(cb).toHaveBeenCalled();\n});", "example": "Timer"},
    {"id": "vst10", "type": "snapshot", "name": "Snapshots", "description": "Snapshot testing", "pattern": "it('matches snapshot', () => {\n  const result = { a: 1, b: 2 };\n  expect(result).toMatchSnapshot();\n});\n\nit('inline snapshot', () => {\n  expect({ a: 1 }).toMatchInlineSnapshot(`{ \"a\": 1 }`);\n});", "example": "Snapshot"},
    {"id": "vst11", "type": "hooks", "name": "Lifecycle Hooks", "description": "Setup/teardown", "pattern": "beforeAll(() => { /* once before */ });\nafterAll(() => { /* once after */ });\nbeforeEach(() => { /* before each */ });\nafterEach(() => { /* after each */ });", "example": "Hooks"},
    {"id": "vst12", "type": "coverage", "name": "Coverage", "description": "Code coverage", "pattern": "// vitest.config.ts\ntest: {\n  coverage: {\n    provider: 'v8',\n    reporter: ['text', 'html'],\n    exclude: ['node_modules/']\n  }\n}\n\n// Run: npx vitest --coverage", "example": "Coverage"},
    {"id": "vst13", "type": "react", "name": "React Testing", "description": "Test components", "pattern": "import { render, screen } from '@testing-library/react';\n\nit('renders button', () => {\n  render(<Button>Click</Button>);\n  expect(screen.getByRole('button')).toHaveTextContent('Click');\n});", "example": "React"},
    {"id": "vst14", "type": "userEvent", "name": "User Events", "description": "Simulate interactions", "pattern": "import userEvent from '@testing-library/user-event';\n\nit('types input', async () => {\n  const user = userEvent.setup();\n  render(<Input />);\n  \n  await user.type(screen.getByRole('textbox'), 'Hello');\n  expect(screen.getByRole('textbox')).toHaveValue('Hello');\n});", "example": "UserEvent"},
    {"id": "vst15", "type": "waitFor", "name": "Async Queries", "description": "Wait for elements", "pattern": "import { waitFor } from '@testing-library/react';\n\nit('loads data', async () => {\n  render(<AsyncComponent />);\n  \n  await waitFor(() => {\n    expect(screen.getByText('Loaded')).toBeInTheDocument();\n  });\n});", "example": "WaitFor"},
    {"id": "vst16", "type": "concurrent", "name": "Concurrent", "description": "Parallel tests", "pattern": "describe.concurrent('parallel', () => {\n  it.concurrent('test 1', async () => {});\n  it.concurrent('test 2', async () => {});\n});", "example": "Concurrent"},
    {"id": "vst17", "type": "skip", "name": "Skip/Only", "description": "Filter tests", "pattern": "describe.skip('skipped', () => {});\nit.skip('skipped test', () => {});\n\ndescribe.only('only this', () => {});\nit.only('only this test', () => {});", "example": "Skip"},
    {"id": "vst18", "type": "todo", "name": "Todo Tests", "description": "Placeholder", "pattern": "it.todo('implement later');", "example": "Todo"},
    {"id": "vst19", "type": "parameterized", "name": "Parameterized", "description": "Data-driven tests", "pattern": "describe.each([\n  [1, 1, 2],\n  [2, 2, 4]\n])('add(%i, %i)', (a, b, expected) => {\n  it(`returns ${expected}`, () => {\n    expect(a + b).toBe(expected);\n  });\n});", "example": "Parameterized"},
    {"id": "vst20", "type": "environment", "name": "Environment", "description": "Test environment", "pattern": "// Per-file\n/** @vitest-environment jsdom */\n\n// In config\ntest: {\n  environment: 'jsdom'  // or 'node', 'happy-dom'\n}", "example": "Environment"},
    {"id": "vst21", "type": "inSource", "name": "In-Source Tests", "description": "Tests in source", "pattern": "export function add(a: number, b: number) {\n  return a + b;\n}\n\nif (import.meta.vitest) {\n  const { it, expect } = import.meta.vitest;\n  it('adds', () => expect(add(1, 2)).toBe(3));\n}", "example": "InSource"},
    {"id": "vst22", "type": "typecheck", "name": "Type Testing", "description": "Test types", "pattern": "import { expectTypeOf } from 'vitest';\n\nit('type checks', () => {\n  expectTypeOf(fn).toBeFunction();\n  expectTypeOf(fn).returns.toBeString();\n});", "example": "TypeCheck"},
    {"id": "vst23", "type": "benchmark", "name": "Benchmarks", "description": "Performance", "pattern": "import { bench, describe } from 'vitest';\n\ndescribe('perf', () => {\n  bench('Array.sort', () => {\n    [3, 1, 2].sort();\n  });\n});", "example": "Benchmark"},
    {"id": "vst24", "type": "workspace", "name": "Workspace", "description": "Monorepo", "pattern": "// vitest.workspace.ts\nimport { defineWorkspace } from 'vitest/config';\n\nexport default defineWorkspace([\n  'packages/*/vitest.config.ts'\n]);", "example": "Workspace"},
    {"id": "vst25", "type": "reporter", "name": "Reporters", "description": "Test output", "pattern": "test: {\n  reporters: ['verbose', 'json'],\n  outputFile: { json: './results.json' }\n}", "example": "Reporter"},
    {"id": "vst26", "type": "globals", "name": "Globals", "description": "Auto-import", "pattern": "// vitest.config.ts\ntest: { globals: true }\n\n// tsconfig.json\n{ \"types\": [\"vitest/globals\"] }", "example": "Globals"},
    {"id": "vst27", "type": "watch", "name": "Watch Mode", "description": "Auto-rerun", "pattern": "npx vitest          # Watch mode\nnpx vitest run      # Run once\nnpx vitest -t \"name\" # Filter by name", "example": "Watch"},
    {"id": "vst28", "type": "ui", "name": "Vitest UI", "description": "Visual interface", "pattern": "npm install -D @vitest/ui\nnpx vitest --ui", "example": "UI"},
    {"id": "vst29", "type": "filter", "name": "Filter Tests", "description": "Run specific tests", "pattern": "npx vitest button              # By filename\nnpx vitest -t \"renders\"        # By test name\nnpx vitest --changed            # Changed files only", "example": "Filter"},
    {"id": "vst30", "type": "pattern", "name": "Best Practices", "description": "Patterns", "pattern": "// 1. Use describe for grouping\n// 2. Keep tests isolated\n// 3. Mock external dependencies\n// 4. Test behavior, not implementation\n// 5. Use meaningful test names", "example": "Patterns"}
  ]
}
