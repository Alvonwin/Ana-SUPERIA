{
  "category": "nginx-proxy-server",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Nginx web server and reverse proxy patterns",
  "skills": [
    {"id": "ngx01", "type": "install", "name": "Install Nginx", "description": "Installation", "pattern": "# Ubuntu/Debian\nsudo apt update && sudo apt install nginx\n\n# CentOS/RHEL\nsudo yum install nginx\n\n# macOS\nbrew install nginx", "example": "Install"},
    {"id": "ngx02", "type": "command", "name": "Service Commands", "description": "Control nginx", "pattern": "sudo systemctl start nginx\nsudo systemctl stop nginx\nsudo systemctl restart nginx\nsudo systemctl reload nginx\nnginx -t  # Test configuration", "example": "Service commands"},
    {"id": "ngx03", "type": "config", "name": "Basic Server Block", "description": "Virtual host", "pattern": "server {\n    listen 80;\n    server_name example.com www.example.com;\n    root /var/www/html;\n    index index.html;\n    \n    location / {\n        try_files $uri $uri/ =404;\n    }\n}", "example": "Server block"},
    {"id": "ngx04", "type": "ssl", "name": "SSL/HTTPS", "description": "TLS configuration", "pattern": "server {\n    listen 443 ssl http2;\n    server_name example.com;\n    \n    ssl_certificate /etc/nginx/ssl/cert.pem;\n    ssl_certificate_key /etc/nginx/ssl/key.pem;\n    ssl_protocols TLSv1.2 TLSv1.3;\n    ssl_ciphers HIGH:!aNULL:!MD5;\n}", "example": "SSL config"},
    {"id": "ngx05", "type": "redirect", "name": "HTTP to HTTPS Redirect", "description": "Force HTTPS", "pattern": "server {\n    listen 80;\n    server_name example.com;\n    return 301 https://$server_name$request_uri;\n}", "example": "HTTPS redirect"},
    {"id": "ngx06", "type": "proxy", "name": "Reverse Proxy", "description": "Proxy pass", "pattern": "server {\n    listen 80;\n    server_name api.example.com;\n    \n    location / {\n        proxy_pass http://localhost:3000;\n        proxy_http_version 1.1;\n        proxy_set_header Host $host;\n        proxy_set_header X-Real-IP $remote_addr;\n        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n        proxy_set_header X-Forwarded-Proto $scheme;\n    }\n}", "example": "Reverse proxy"},
    {"id": "ngx07", "type": "websocket", "name": "WebSocket Proxy", "description": "WS support", "pattern": "location /ws {\n    proxy_pass http://localhost:3000;\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection \"upgrade\";\n    proxy_read_timeout 86400;\n}", "example": "WebSocket"},
    {"id": "ngx08", "type": "loadbalance", "name": "Load Balancing", "description": "Upstream servers", "pattern": "upstream backend {\n    least_conn;\n    server 127.0.0.1:3001 weight=3;\n    server 127.0.0.1:3002;\n    server 127.0.0.1:3003 backup;\n}\n\nserver {\n    location / {\n        proxy_pass http://backend;\n    }\n}", "example": "Load balancing"},
    {"id": "ngx09", "type": "cache", "name": "Proxy Cache", "description": "Response caching", "pattern": "proxy_cache_path /var/cache/nginx levels=1:2 keys_zone=my_cache:10m max_size=1g inactive=60m;\n\nserver {\n    location / {\n        proxy_cache my_cache;\n        proxy_cache_valid 200 1h;\n        proxy_cache_use_stale error timeout;\n        add_header X-Cache-Status $upstream_cache_status;\n    }\n}", "example": "Proxy cache"},
    {"id": "ngx10", "type": "static", "name": "Static File Caching", "description": "Browser cache", "pattern": "location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff2)$ {\n    expires 1y;\n    add_header Cache-Control \"public, immutable\";\n    access_log off;\n}", "example": "Static cache"},
    {"id": "ngx11", "type": "gzip", "name": "Gzip Compression", "description": "Enable gzip", "pattern": "gzip on;\ngzip_vary on;\ngzip_min_length 1024;\ngzip_types text/plain text/css text/xml text/javascript application/javascript application/json application/xml;\ngzip_proxied any;", "example": "Gzip"},
    {"id": "ngx12", "type": "security", "name": "Security Headers", "description": "HTTP headers", "pattern": "add_header X-Frame-Options \"SAMEORIGIN\" always;\nadd_header X-Content-Type-Options \"nosniff\" always;\nadd_header X-XSS-Protection \"1; mode=block\" always;\nadd_header Strict-Transport-Security \"max-age=31536000; includeSubDomains\" always;\nadd_header Content-Security-Policy \"default-src 'self'\" always;", "example": "Security headers"},
    {"id": "ngx13", "type": "ratelimit", "name": "Rate Limiting", "description": "Limit requests", "pattern": "limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/s;\n\nserver {\n    location /api/ {\n        limit_req zone=api_limit burst=20 nodelay;\n        limit_req_status 429;\n    }\n}", "example": "Rate limiting"},
    {"id": "ngx14", "type": "cors", "name": "CORS Configuration", "description": "Cross-origin", "pattern": "location /api/ {\n    if ($request_method = 'OPTIONS') {\n        add_header Access-Control-Allow-Origin '*';\n        add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';\n        add_header Access-Control-Allow-Headers 'Authorization, Content-Type';\n        return 204;\n    }\n    add_header Access-Control-Allow-Origin '*';\n}", "example": "CORS"},
    {"id": "ngx15", "type": "rewrite", "name": "URL Rewrite", "description": "Rewrite rules", "pattern": "location /old-page {\n    return 301 /new-page;\n}\n\nrewrite ^/blog/(.*)$ /articles/$1 permanent;\nrewrite ^/api/v1/(.*)$ /api/v2/$1 last;", "example": "Rewrite"},
    {"id": "ngx16", "type": "spa", "name": "SPA Configuration", "description": "Single page app", "pattern": "server {\n    root /var/www/app;\n    index index.html;\n    \n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n    \n    location /api {\n        proxy_pass http://localhost:3000;\n    }\n}", "example": "SPA config"},
    {"id": "ngx17", "type": "auth", "name": "Basic Authentication", "description": "HTTP auth", "pattern": "location /admin {\n    auth_basic \"Restricted Area\";\n    auth_basic_user_file /etc/nginx/.htpasswd;\n}\n\n# Create password file\n# htpasswd -c /etc/nginx/.htpasswd admin", "example": "Basic auth"},
    {"id": "ngx18", "type": "log", "name": "Access Logging", "description": "Custom logs", "pattern": "log_format custom '$remote_addr - $remote_user [$time_local] '\n                  '\"$request\" $status $body_bytes_sent '\n                  '\"$http_referer\" \"$http_user_agent\" '\n                  'rt=$request_time uct=$upstream_connect_time';\n\naccess_log /var/log/nginx/access.log custom;", "example": "Access logging"},
    {"id": "ngx19", "type": "error", "name": "Error Pages", "description": "Custom errors", "pattern": "error_page 404 /404.html;\nerror_page 500 502 503 504 /50x.html;\n\nlocation = /50x.html {\n    root /var/www/errors;\n    internal;\n}", "example": "Error pages"},
    {"id": "ngx20", "type": "include", "name": "Include Files", "description": "Modular config", "pattern": "# /etc/nginx/nginx.conf\nhttp {\n    include /etc/nginx/mime.types;\n    include /etc/nginx/conf.d/*.conf;\n    include /etc/nginx/sites-enabled/*;\n}", "example": "Include"},
    {"id": "ngx21", "type": "upstream", "name": "Health Checks", "description": "Backend health", "pattern": "upstream backend {\n    server 127.0.0.1:3001 max_fails=3 fail_timeout=30s;\n    server 127.0.0.1:3002 max_fails=3 fail_timeout=30s;\n    keepalive 32;\n}", "example": "Health checks"},
    {"id": "ngx22", "type": "buffer", "name": "Proxy Buffers", "description": "Buffer settings", "pattern": "proxy_buffering on;\nproxy_buffer_size 4k;\nproxy_buffers 8 4k;\nproxy_busy_buffers_size 8k;\nproxy_max_temp_file_size 0;", "example": "Proxy buffers"},
    {"id": "ngx23", "type": "timeout", "name": "Timeout Settings", "description": "Connection timeouts", "pattern": "proxy_connect_timeout 60s;\nproxy_send_timeout 60s;\nproxy_read_timeout 60s;\nsend_timeout 60s;\nkeepalive_timeout 65;", "example": "Timeouts"},
    {"id": "ngx24", "type": "limit", "name": "Connection Limits", "description": "Limit connections", "pattern": "limit_conn_zone $binary_remote_addr zone=addr:10m;\n\nserver {\n    limit_conn addr 10;\n    limit_conn_status 503;\n}", "example": "Connection limits"},
    {"id": "ngx25", "type": "map", "name": "Map Directive", "description": "Variable mapping", "pattern": "map $http_upgrade $connection_upgrade {\n    default upgrade;\n    '' close;\n}\n\nmap $uri $new_uri {\n    /old /new;\n    default $uri;\n}", "example": "Map directive"},
    {"id": "ngx26", "type": "geo", "name": "Geo Blocking", "description": "IP-based rules", "pattern": "geo $blocked {\n    default 0;\n    192.168.1.0/24 1;\n    10.0.0.0/8 1;\n}\n\nserver {\n    if ($blocked) {\n        return 403;\n    }\n}", "example": "Geo blocking"},
    {"id": "ngx27", "type": "ssl", "name": "Let's Encrypt", "description": "Certbot SSL", "pattern": "# Install certbot\nsudo apt install certbot python3-certbot-nginx\n\n# Get certificate\nsudo certbot --nginx -d example.com\n\n# Auto-renewal\nsudo certbot renew --dry-run", "example": "Let's Encrypt"},
    {"id": "ngx28", "type": "php", "name": "PHP-FPM", "description": "PHP processing", "pattern": "location ~ \\.php$ {\n    fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;\n    fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n    include fastcgi_params;\n}", "example": "PHP-FPM"},
    {"id": "ngx29", "type": "stream", "name": "TCP/UDP Proxy", "description": "Stream module", "pattern": "stream {\n    upstream mysql {\n        server 127.0.0.1:3306;\n    }\n    server {\n        listen 3306;\n        proxy_pass mysql;\n    }\n}", "example": "Stream proxy"},
    {"id": "ngx30", "type": "debug", "name": "Debug Configuration", "description": "Troubleshooting", "pattern": "# Test configuration\nnginx -t\n\n# Check logs\ntail -f /var/log/nginx/error.log\ntail -f /var/log/nginx/access.log\n\n# Verbose output\nnginx -T", "example": "Debug"}
  ]
}
