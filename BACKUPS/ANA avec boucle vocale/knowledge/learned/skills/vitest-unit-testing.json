{
  "category": "vitest-unit-testing",
  "version": "1.0.0",
  "generatedBy": "Claude (Opus 4.5)",
  "description": "Vitest modern unit testing patterns",
  "skills": [
    {"id": "vut01", "type": "setup", "name": "Install Vitest", "description": "Add package", "pattern": "npm install -D vitest @vitest/ui @vitest/coverage-v8", "example": "Full setup"},
    {"id": "vut02", "type": "config", "name": "Vitest Config", "description": "vite.config.ts", "pattern": "/// <reference types='vitest' /> export default defineConfig({ test: { globals: true, environment: 'jsdom' } })", "example": "Configuration"},
    {"id": "vut03", "type": "run", "name": "Run Tests", "description": "Execute", "pattern": "npx vitest run // once, npx vitest // watch", "example": "Test execution"},
    {"id": "vut04", "type": "test", "name": "Test Function", "description": "Define test", "pattern": "import { test, expect } from 'vitest'; test('adds numbers', () => { expect(add(1, 2)).toBe(3) })", "example": "Basic test"},
    {"id": "vut05", "type": "test", "name": "Describe Block", "description": "Group tests", "pattern": "describe('Calculator', () => { test('adds', () => {}); test('subtracts', () => {}) })", "example": "Test suite"},
    {"id": "vut06", "type": "expect", "name": "Matchers", "description": "Assertions", "pattern": "expect(value).toBe(3); expect(obj).toEqual({ a: 1 }); expect(arr).toContain(2); expect(fn).toThrow()", "example": "Common matchers"},
    {"id": "vut07", "type": "expect", "name": "Async Matchers", "description": "Promise checks", "pattern": "await expect(promise).resolves.toBe('value'); await expect(promise).rejects.toThrow('error')", "example": "Async assertions"},
    {"id": "vut08", "type": "expect", "name": "Snapshot", "description": "Snapshot test", "pattern": "expect(result).toMatchSnapshot(); expect(result).toMatchInlineSnapshot(`\"expected\"`)", "example": "Snapshot testing"},
    {"id": "vut09", "type": "mock", "name": "vi.fn()", "description": "Mock function", "pattern": "const fn = vi.fn(); fn('arg'); expect(fn).toHaveBeenCalledWith('arg')", "example": "Spy function"},
    {"id": "vut10", "type": "mock", "name": "Mock Return", "description": "Return value", "pattern": "vi.fn().mockReturnValue(42); vi.fn().mockResolvedValue({ data: 'value' })", "example": "Fake return"},
    {"id": "vut11", "type": "mock", "name": "vi.mock()", "description": "Mock module", "pattern": "vi.mock('./api', () => ({ fetchUser: vi.fn().mockResolvedValue({ name: 'John' }) }))", "example": "Module mock"},
    {"id": "vut12", "type": "mock", "name": "vi.spyOn()", "description": "Spy on method", "pattern": "const spy = vi.spyOn(console, 'log'); expect(spy).toHaveBeenCalled(); spy.mockRestore()", "example": "Method spy"},
    {"id": "vut13", "type": "mock", "name": "vi.stubGlobal()", "description": "Mock global", "pattern": "vi.stubGlobal('fetch', vi.fn().mockResolvedValue({ json: () => ({}) }))", "example": "Global mock"},
    {"id": "vut14", "type": "hooks", "name": "beforeEach", "description": "Setup hook", "pattern": "beforeEach(() => { /* setup */ }); afterEach(() => { vi.clearAllMocks() })", "example": "Test setup"},
    {"id": "vut15", "type": "hooks", "name": "beforeAll", "description": "Suite hook", "pattern": "beforeAll(async () => { /* async setup */ }); afterAll(() => { /* cleanup */ })", "example": "Suite setup"},
    {"id": "vut16", "type": "filter", "name": "test.only", "description": "Focus test", "pattern": "test.only('only this runs', () => {}); describe.only('only suite', () => {})", "example": "Run single"},
    {"id": "vut17", "type": "filter", "name": "test.skip", "description": "Skip test", "pattern": "test.skip('skip this', () => {}); test.todo('implement later')", "example": "Skip/todo"},
    {"id": "vut18", "type": "filter", "name": "test.each", "description": "Parameterized", "pattern": "test.each([[1, 1, 2], [2, 3, 5]])('add(%i, %i) = %i', (a, b, expected) => { expect(add(a, b)).toBe(expected) })", "example": "Data-driven"},
    {"id": "vut19", "type": "async", "name": "Async Test", "description": "Async/await", "pattern": "test('async', async () => { const data = await fetchData(); expect(data).toBeDefined() })", "example": "Async test"},
    {"id": "vut20", "type": "timer", "name": "Fake Timers", "description": "Mock time", "pattern": "vi.useFakeTimers(); vi.advanceTimersByTime(1000); vi.runAllTimers(); vi.useRealTimers()", "example": "Time control"},
    {"id": "vut21", "type": "timer", "name": "Set System Time", "description": "Mock date", "pattern": "vi.setSystemTime(new Date('2024-01-01')); expect(new Date().getFullYear()).toBe(2024)", "example": "Fixed date"},
    {"id": "vut22", "type": "coverage", "name": "Coverage Report", "description": "Code coverage", "pattern": "npx vitest run --coverage", "example": "Coverage stats"},
    {"id": "vut23", "type": "coverage", "name": "Coverage Config", "description": "Coverage options", "pattern": "test: { coverage: { reporter: ['text', 'html'], exclude: ['node_modules'] } }", "example": "Coverage setup"},
    {"id": "vut24", "type": "ui", "name": "Vitest UI", "description": "Visual interface", "pattern": "npx vitest --ui", "example": "Browser UI"},
    {"id": "vut25", "type": "env", "name": "Test Environment", "description": "DOM/Node", "pattern": "// @vitest-environment jsdom (per-file) or test: { environment: 'jsdom' }", "example": "Environment config"},
    {"id": "vut26", "type": "concurrent", "name": "Concurrent Tests", "description": "Parallel tests", "pattern": "test.concurrent('fast test 1', async () => {}); test.concurrent('fast test 2', async () => {})", "example": "Run parallel"},
    {"id": "vut27", "type": "workspace", "name": "Workspace", "description": "Monorepo", "pattern": "// vitest.workspace.ts: export default ['packages/*']", "example": "Multi-project"},
    {"id": "vut28", "type": "benchmark", "name": "Benchmarks", "description": "Performance test", "pattern": "import { bench } from 'vitest'; bench('sort array', () => { array.sort() })", "example": "Perf testing"},
    {"id": "vut29", "type": "type", "name": "Type Testing", "description": "Type assertions", "pattern": "import { expectTypeOf } from 'vitest'; expectTypeOf(fn).toBeFunction(); expectTypeOf(fn).returns.toBeString()", "example": "Type checking"},
    {"id": "vut30", "type": "reporter", "name": "Custom Reporter", "description": "Output format", "pattern": "test: { reporters: ['verbose', 'json'] }", "example": "Report format"}
  ]
}
